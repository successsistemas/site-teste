<?
				// solicitacao ----------------------------------------------------
				$totalizar_solicitacao_orcamento_retorno = NULL;
				$totalizar_solicitacao_praca_orcamento_retorno = NULL;
				$totalizar_solicitacao_praca_geral_orcamento_retorno = NULL;
				
				$totalizar_solicitacao_tipo_retorno = NULL;
				$totalizar_solicitacao_praca_tipo_retorno = NULL;
				$totalizar_solicitacao_praca_geral_tipo_retorno = NULL;

				$totalizar_solicitacao_tempo_retorno = NULL;
				$totalizar_solicitacao_praca_tempo_retorno = NULL;
				$totalizar_solicitacao_praca_geral_tempo_retorno = NULL;
				
				$totalizar_solicitacao_tempo_usuario_responsavel_retorno = NULL;
				$totalizar_solicitacao_praca_tempo_usuario_responsavel_retorno = NULL;
				$totalizar_solicitacao_praca_geral_tempo_usuario_responsavel_retorno = NULL;

				$totalizar_solicitacao_tempo_operador_retorno = NULL;
				$totalizar_solicitacao_praca_tempo_operador_retorno = NULL;
				$totalizar_solicitacao_praca_geral_tempo_operador_retorno = NULL;
								
				$totalizar_solicitacao_tempo_executante_retorno = NULL;
				$totalizar_solicitacao_praca_tempo_executante_retorno = NULL;
				$totalizar_solicitacao_praca_geral_tempo_executante_retorno = NULL;
					
				$totalizar_solicitacao_tempo_testador_retorno = NULL;
				$totalizar_solicitacao_praca_tempo_testador_retorno = NULL;
				$totalizar_solicitacao_praca_geral_tempo_testador_retorno = NULL;
				
				$totalizar_solicitacao_tempo_testador_geral_retorno = NULL;
				$totalizar_solicitacao_praca_tempo_testador_geral_retorno = NULL;
				$totalizar_solicitacao_praca_geral_tempo_testador_geral_retorno = NULL;
				
				$totalizar_solicitacao_situacao_retorno = NULL;
				$totalizar_solicitacao_praca_situacao_retorno = NULL;
				$totalizar_solicitacao_praca_geral_situacao_retorno = NULL;
			
				$totalizar_solicitacao_status_retorno = NULL;
				$totalizar_solicitacao_praca_status_retorno = NULL;
				$totalizar_solicitacao_praca_geral_status_retorno = NULL;
			
				$totalizar_solicitacao_usuario_responsavel_retorno = NULL;
				$totalizar_solicitacao_praca_usuario_responsavel_retorno = NULL;
				$totalizar_solicitacao_praca_geral_usuario_responsavel_retorno = NULL;
				
				$totalizar_solicitacao_executante_retorno = NULL;
				$totalizar_solicitacao_praca_executante_retorno = NULL;
				$totalizar_solicitacao_praca_geral_executante_retorno = NULL;
				
				$totalizar_solicitacao_envolvido_retorno = NULL;
				$totalizar_solicitacao_praca_envolvido_retorno = NULL;
				$totalizar_solicitacao_praca_geral_envolvido_retorno = NULL;
				
				$totalizar_solicitacao_tipo_envolvido_retorno = NULL;
				$totalizar_solicitacao_praca_tipo_envolvido_retorno = NULL;
				$totalizar_solicitacao_praca_geral_tipo_envolvido_retorno = NULL;

				$totalizar_solicitacao_situacao_envolvido_retorno = NULL;
				$totalizar_solicitacao_praca_situacao_envolvido_retorno = NULL;
				$totalizar_solicitacao_praca_geral_situacao_envolvido_retorno = NULL;
				
				$totalizar_solicitacao_tempo_envolvido_retorno = NULL;
				$totalizar_solicitacao_praca_tempo_envolvido_retorno = NULL;
				$totalizar_solicitacao_praca_geral_tempo_envolvido_retorno = NULL;
				
				$totalizar_solicitacao_operador_retorno = NULL;
				$totalizar_solicitacao_praca_operador_retorno = NULL;
				$totalizar_solicitacao_praca_geral_operador_retorno = NULL;
				
				$totalizar_solicitacao_testador_retorno = NULL;
				$totalizar_solicitacao_praca_testador_retorno = NULL;
				$totalizar_solicitacao_praca_geral_testador_retorno = NULL;
			
				$totalizar_solicitacao_orcamento_usuario_responsavel_retorno = NULL;
				$totalizar_solicitacao_praca_orcamento_usuario_responsavel_retorno = NULL;
				$totalizar_solicitacao_praca_geral_orcamento_usuario_responsavel_retorno = NULL;
				
				$totalizar_solicitacao_tipo_responsavel_retorno = NULL;
				$totalizar_solicitacao_praca_tipo_responsavel_retorno = NULL;
				$totalizar_solicitacao_praca_geral_tipo_responsavel_retorno = NULL;
				// fim - solicitacao ----------------------------------------------
				
				// suporte --------------------------------------------------------
				$totalizar_suporte_avaliacao_atendimento_retorno = NULL;
				$totalizar_suporte_praca_avaliacao_atendimento_retorno = NULL;
				$totalizar_suporte_praca_geral_avaliacao_atendimento_retorno = NULL;
				
				$totalizar_suporte_tipo_atendimento_retorno = NULL;
				$totalizar_suporte_praca_tipo_atendimento_retorno = NULL;
				$totalizar_suporte_praca_geral_tipo_atendimento_retorno = NULL;
				
				$totalizar_suporte_tipo_recomendacao_retorno = NULL;
				$totalizar_suporte_praca_tipo_recomendacao_retorno = NULL;
				$totalizar_suporte_praca_geral_tipo_recomendacao_retorno = NULL;
				
				$totalizar_suporte_tipo_parecer_retorno = NULL;
				$totalizar_suporte_praca_tipo_parecer_retorno = NULL;
				$totalizar_suporte_praca_geral_tipo_parecer_retorno = NULL;
				
				$totalizar_suporte_tempo_retorno = NULL;
				$totalizar_suporte_praca_tempo_retorno = NULL;
				$totalizar_suporte_praca_geral_tempo_retorno = NULL;
				
				$totalizar_suporte_valor_retorno = NULL;
				$totalizar_suporte_praca_valor_retorno = NULL;
				$totalizar_suporte_praca_geral_valor_retorno = NULL;
				
				$totalizar_suporte_valor_usuario_responsavel_retorno = NULL;
				$totalizar_suporte_praca_valor_usuario_responsavel_retorno = NULL;
				$totalizar_suporte_praca_geral_valor_usuario_responsavel_retorno = NULL;
				
				$totalizar_suporte_situacao_retorno = NULL;
				$totalizar_suporte_praca_situacao_retorno = NULL;
				$totalizar_suporte_praca_geral_situacao_retorno = NULL;
				
				$totalizar_suporte_usuario_responsavel_retorno = NULL;
				$totalizar_suporte_praca_usuario_responsavel_retorno = NULL;
				$totalizar_suporte_praca_geral_usuario_responsavel_retorno = NULL;
				
				$totalizar_suporte_tempo_usuario_responsavel_retorno = NULL;
				$totalizar_suporte_praca_tempo_usuario_responsavel_retorno = NULL;
				$totalizar_suporte_praca_geral_tempo_usuario_responsavel_retorno = NULL;

				$totalizar_suporte_usuario_envolvido_retorno = NULL;
				$totalizar_suporte_praca_usuario_envolvido_retorno = NULL;
				$totalizar_suporte_praca_geral_usuario_envolvido_retorno = NULL;
				
				$totalizar_suporte_tempo_usuario_envolvido_retorno = NULL;
				$totalizar_suporte_praca_tempo_usuario_envolvido_retorno = NULL;
				$totalizar_suporte_praca_geral_tempo_usuario_envolvido_retorno = NULL;
					
				$totalizar_suporte_tipo_visita_retorno = NULL;
				$totalizar_suporte_praca_tipo_visita_retorno = NULL;
				$totalizar_suporte_praca_geral_tipo_visita_retorno = NULL;
				
				$totalizar_suporte_tipo_visita_retorno = NULL;
				$totalizar_suporte_praca_tipo_visita_retorno = NULL;
				$totalizar_suporte_praca_geral_tipo_visita_retorno = NULL;
				
				$totalizar_suporte_optante_acumulo_retorno = NULL;
				$totalizar_suporte_praca_optante_acumulo_retorno = NULL;
				$totalizar_suporte_praca_geral_optante_acumulo_retorno = NULL;
				
				$totalizar_suporte_tipo_atendimento_usuario_responsavel_retorno = NULL;
				$totalizar_suporte_praca_tipo_atendimento_usuario_responsavel_retorno = NULL;
				$totalizar_suporte_praca_geral_tipo_atendimento_usuario_responsavel_retorno = NULL;
				
				$totalizar_suporte_avaliacao_atendimento_responsavel_retorno = NULL;
				$totalizar_suporte_praca_avaliacao_atendimento_responsavel_retorno = NULL;
				$totalizar_suporte_praca_geral_avaliacao_atendimento_responsavel_retorno = NULL;
				
				$totalizar_suporte_tipo_atendimento_envolvido_retorno = NULL;
				$totalizar_suporte_praca_tipo_atendimento_envolvido_retorno = NULL;
				$totalizar_suporte_praca_geral_tipo_atendimento_envolvido_retorno = NULL;
				// fim - suporte --------------------------------------------------
				
				// prospeccao -----------------------------------------------------
				$totalizar_prospeccao_baixa_perda_motivo_retorno = NULL;
				$totalizar_prospeccao_praca_baixa_perda_motivo_retorno = NULL;
				$totalizar_prospeccao_praca_geral_baixa_perda_motivo_retorno = NULL;
				
				$totalizar_prospeccao_situacao_retorno = NULL;
				$totalizar_prospeccao_praca_situacao_retorno = NULL;
				$totalizar_prospeccao_praca_geral_situacao_retorno = NULL;
				
				$totalizar_prospeccao_status_retorno = NULL;
				$totalizar_prospeccao_praca_status_retorno = NULL;
				$totalizar_prospeccao_praca_geral_status_retorno = NULL;
				
				$totalizar_prospeccao_tipo_cliente_retorno = NULL;
				$totalizar_prospeccao_praca_tipo_cliente_retorno = NULL;
				$totalizar_prospeccao_praca_geral_tipo_cliente_retorno = NULL;
				
				$totalizar_prospeccao_ativo_passivo_retorno = NULL;
				$totalizar_prospeccao_praca_ativo_passivo_retorno = NULL;
				$totalizar_prospeccao_praca_geral_ativo_passivo_retorno = NULL;
				
				$totalizar_prospeccao_usuario_responsavel_retorno = NULL;
				$totalizar_prospeccao_praca_usuario_responsavel_retorno = NULL;
				$totalizar_prospeccao_praca_geral_usuario_responsavel_retorno = NULL;
				// fim - prospeccao -----------------------------------------------
				
				// venda ----------------------------------------------------------
				$totalizar_venda_situacao_retorno = NULL;
				$totalizar_venda_praca_situacao_retorno = NULL;
				$totalizar_venda_praca_geral_situacao_retorno = NULL;

				$totalizar_venda_usuario_responsavel_retorno = NULL;
				$totalizar_venda_praca_usuario_responsavel_retorno = NULL;
				$totalizar_venda_praca_geral_usuario_responsavel_retorno = NULL;
	
				$totalizar_venda_valor_venda_retorno = NULL;
				$totalizar_venda_praca_valor_venda_retorno = NULL;
				$totalizar_venda_praca_geral_valor_venda_retorno = NULL;
				
				$totalizar_venda_valor_treinamento_retorno = NULL;
				$totalizar_venda_praca_valor_treinamento_retorno = NULL;
				$totalizar_venda_praca_geral_valor_treinamento_retorno = NULL;
				
				$totalizar_venda_modulos_retorno = NULL;
				$totalizar_venda_praca_modulos_retorno = NULL;
				$totalizar_venda_praca_geral_modulos_retorno = NULL;
				
				$totalizar_venda_tempo_retorno = NULL;
				$totalizar_venda_praca_tempo_retorno = NULL;
				$totalizar_venda_praca_geral_tempo_retorno = NULL;
				
				$totalizar_venda_tempo_gasto_retorno = NULL;
				$totalizar_venda_praca_tempo_gasto_retorno = NULL;
				$totalizar_venda_praca_geral_tempo_gasto_retorno = NULL;
				
				$totalizar_venda_tempo_gasto_usuario_responsavel_retorno = NULL;
				$totalizar_venda_praca_tempo_gasto_usuario_responsavel_retorno = NULL;
				$totalizar_venda_praca_geral_tempo_gasto_usuario_responsavel_retorno = NULL;
				
				$totalizar_venda_valor_venda_usuario_responsavel_retorno = NULL;
				$totalizar_venda_praca_valor_venda_usuario_responsavel_retorno = NULL;
				$totalizar_venda_praca_geral_valor_venda_usuario_responsavel_retorno = NULL;
				
				$totalizar_venda_valor_treinamento_responsavel_retorno = NULL;
				$totalizar_venda_praca_valor_treinamento_responsavel_retorno = NULL;
				$totalizar_venda_praca_geral_valor_treinamento_responsavel_retorno = NULL;
				
				$totalizar_venda_tempo_usuario_responsavel_retorno = NULL;
				$totalizar_venda_praca_tempo_usuario_responsavel_retorno = NULL;
				$totalizar_venda_praca_geral_tempo_usuario_responsavel_retorno = NULL;
				
				$totalizar_venda_dilacao_prazo_retorno = NULL;
				$totalizar_venda_praca_dilacao_prazo_retorno = NULL;
				$totalizar_venda_praca_geral_dilacao_prazo_retorno = NULL;
				
				$totalizar_venda_tipo_cliente_retorno = NULL;
				$totalizar_venda_praca_tipo_cliente_retorno = NULL;
				$totalizar_venda_praca_geral_tipo_cliente_retorno = NULL;
				// fim - venda ----------------------------------------------------
				
				
				// totalizar_solicitacao_orcamento
				if(
				($row_relatorio['totalizar_solicitacao_orcamento'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_solicitacao_orcamento'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_solicitacao_orcamento'] == 3) // sem praça
				){ 
				
					$totalizar_solicitacao_orcamento = $totalizar_solicitacao_orcamento + $row_registro['orcamento'];
					
					$totalizar_solicitacao_orcamento_retorno = "&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;Valor Total: R$ ".number_format($totalizar_solicitacao_orcamento, 2, ',', '.');
					
				}
				// fim - totalizar_solicitacao_orcamento
				
				// totalizar_solicitacao_praca_orcamento ******************
				if($row_relatorio['totalizar_solicitacao_praca_orcamento'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					foreach ($totalizar_solicitacao_praca_orcamento[$row_registro['praca']] as $item){
						$totalizar_solicitacao_praca_orcamento[$row_registro['praca']]['orcamento'] = $totalizar_solicitacao_praca_orcamento[$row_registro['praca']]['orcamento'] + $row_registro['orcamento'];
					}
					// fim - incrementa contador
					
					// retorno por praça
					foreach ($totalizar_solicitacao_praca_orcamento[$row_registro['praca']] as $item){
						$totalizar_solicitacao_praca_orcamento_retorno .= $item;
					}
					// fim - retorno por praça
					
					$totalizar_solicitacao_praca_orcamento_retorno = "&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;Valor Total: R$ ".number_format($totalizar_solicitacao_praca_orcamento_retorno, 2, ',', '.');
					
					if($row_relatorio['totalizar_solicitacao_praca_geral_orcamento'] > 0){ 
						$totalizar_solicitacao_praca_geral_orcamento_retorno = $totalizar_solicitacao_praca_orcamento_retorno;
					}

				}
				// fim - totalizar_solicitacao_praca_orcamento ************
				
				// totalizar_solicitacao_tipo
				if(
				($row_relatorio['totalizar_solicitacao_tipo'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_solicitacao_tipo'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_solicitacao_tipo'] == 3) // sem praça
				){ 
				
					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_solicitacao_tipo as $item){
						
						if($totalizar_solicitacao_tipo[$contador_array]['titulo'] == $row_registro['tipo']){
							$totalizar_solicitacao_tipo[$contador_array]['contador'] = $totalizar_solicitacao_tipo[$contador_array]['contador'] + 1;
						}
						
						if($totalizar_solicitacao_tipo[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
	
						$contador_array ++;
						
					}
					// fim - incrementa contador
					
					// retorno
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_solicitacao_tipo as $item){
						$contador_array ++;
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_solicitacao_tipo_retorno .= $item['titulo'].": ".$item['contador'].$virgula;
						}
												
					}
					// fim - retorno
					
					$totalizar_solicitacao_tipo_retorno = "<div>Tipo: ".$totalizar_solicitacao_tipo_retorno."<div>";
					
				}
				// fim - totalizar_solicitacao_tipo

				// totalizar_solicitacao_praca_tipo ******************
				if($row_relatorio['totalizar_solicitacao_praca_tipo'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_solicitacao_praca_tipo[$row_registro['praca']] as $item){
						if($totalizar_solicitacao_praca_tipo[$row_registro['praca']][$contador_array]['titulo'] == $row_registro['tipo']){
							$totalizar_solicitacao_praca_tipo[$row_registro['praca']][$contador_array]['contador'] = $totalizar_solicitacao_praca_tipo[$row_registro['praca']][$contador_array]['contador'] + 1;
						}

						if($totalizar_solicitacao_praca_tipo[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_solicitacao_praca_tipo[$row_registro['praca']] as $item){
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_solicitacao_praca_tipo_retorno .= $item['titulo'].": ".$item['contador'].$virgula;
						}
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_solicitacao_praca_tipo_retorno = "<div>Tipo: ".$totalizar_solicitacao_praca_tipo_retorno."</div>";
					
					if($row_relatorio['totalizar_solicitacao_praca_geral_tipo'] > 0){ 
						$totalizar_solicitacao_praca_geral_tipo_retorno = $totalizar_solicitacao_praca_tipo_retorno;
					}

				}
				// fim - totalizar_solicitacao_praca_tipo ************
				
				// totalizar_solicitacao_tempo
				if(
				($row_relatorio['totalizar_solicitacao_tempo'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_solicitacao_tempo'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_solicitacao_tempo'] == 3) // sem praça
				){ 

					$totalizar_solicitacao_tempo = $totalizar_solicitacao_tempo + $row_registro['tempo_gasto'];
					
					$totalizar_solicitacao_tempo_retorno = "&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;Tempo: ".tempo_gasto_conversao($totalizar_solicitacao_tempo);
					
				}
				// fim - totalizar_solicitacao_tempo
				
				// totalizar_solicitacao_praca_tempo ******************
				if($row_relatorio['totalizar_solicitacao_praca_tempo'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					foreach ($totalizar_solicitacao_praca_tempo[$row_registro['praca']] as $item){						
						$totalizar_solicitacao_praca_tempo[$row_registro['praca']]['tempo_gasto'] = $totalizar_solicitacao_praca_tempo[$row_registro['praca']]['tempo_gasto'] + $row_registro['tempo_gasto'];
					}
					// fim - incrementa contador
					
					// retorno por praça
					foreach ($totalizar_solicitacao_praca_tempo[$row_registro['praca']] as $item){
						$totalizar_solicitacao_praca_tempo_retorno .= $item;
					}
					// fim - retorno por praça
					
					$totalizar_solicitacao_praca_tempo_retorno = "&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;Tempo: ".tempo_gasto_conversao($totalizar_solicitacao_praca_tempo_retorno);
					
					if($row_relatorio['totalizar_solicitacao_praca_geral_tempo'] > 0){ 
						$totalizar_solicitacao_praca_geral_tempo_retorno = $totalizar_solicitacao_praca_tempo_retorno;
					}

				}
				// fim - totalizar_solicitacao_praca_tempo ************
				
				// totalizar_solicitacao_tempo_testador_geral
				if(
				($row_relatorio['totalizar_solicitacao_tempo_testador_geral'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_solicitacao_tempo_testador_geral'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_solicitacao_tempo_testador_geral'] == 3) // sem praça
				){ 
					
					$totalizar_solicitacao_tempo_testador_geral = $totalizar_solicitacao_tempo_testador_geral + $row_registro['tempo_gasto_testador'];
					
					$totalizar_solicitacao_tempo_testador_geral_retorno = "&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;Tempo: ".tempo_gasto_conversao($totalizar_solicitacao_tempo_testador_geral);
					
				}
				// fim - totalizar_solicitacao_tempo_testador_geral
				
				// totalizar_solicitacao_praca_tempo_testador_geral ******************
				if($row_relatorio['totalizar_solicitacao_praca_tempo_testador_geral'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					foreach ($totalizar_solicitacao_praca_tempo_testador_geral[$row_registro['praca']] as $item){
						
						$totalizar_solicitacao_praca_tempo_testador_geral[$row_registro['praca']]['tempo_testador_geral_gasto'] = $totalizar_solicitacao_praca_tempo_testador_geral[$row_registro['praca']]['tempo_testador_geral_gasto'] + $row_registro['tempo_gasto_testador'];
					}
					// fim - incrementa contador
					
					// retorno por praça
					foreach ($totalizar_solicitacao_praca_tempo_testador_geral[$row_registro['praca']] as $item){
						$totalizar_solicitacao_praca_tempo_testador_geral_retorno .= $item;
					}
					// fim - retorno por praça
					
					$totalizar_solicitacao_praca_tempo_testador_geral_retorno = "&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;Tempo: ".tempo_gasto_conversao($totalizar_solicitacao_praca_tempo_testador_geral_retorno);
					
					if($row_relatorio['totalizar_solicitacao_praca_geral_tempo_testador_geral'] > 0){ 
						$totalizar_solicitacao_praca_geral_tempo_testador_geral_retorno = $totalizar_solicitacao_praca_tempo_testador_geral_retorno;
					}

				}
				// fim - totalizar_solicitacao_praca_tempo_testador_geral ************

				// totalizar_solicitacao_tempo_usuario_responsavel
				if(
				($row_relatorio['totalizar_solicitacao_tempo_usuario_responsavel'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_solicitacao_tempo_usuario_responsavel'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_solicitacao_tempo_usuario_responsavel'] == 3) // sem praça
				){
				
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_solicitacao_tempo_usuario_responsavel as $item){
						
						if($totalizar_solicitacao_tempo_usuario_responsavel[$contador_array]['IdUsuario'] == $row_registro['id_usuario_responsavel']){
							
							$totalizar_solicitacao_tempo_usuario_responsavel[$contador_array]['contador'] = 
							$totalizar_solicitacao_tempo_usuario_responsavel[$contador_array]['contador'] + $row_registro['tempo_gasto_usuario_responsavel'];
							
						}
						
						if($totalizar_solicitacao_tempo_usuario_responsavel[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}

						$contador_array ++;
						
					}
					
					// contador
					$totalizar_solicitacao_tempo_usuario_responsavel_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_solicitacao_tempo_usuario_responsavel as $item){
						$contador_array ++;
						if($item['contador'] > 0) {
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_solicitacao_tempo_usuario_responsavel_retorno .= $item['nome'].": ".tempo_gasto_conversao($item['contador']).$virgula;
						}
					}
					// fim - contador
					
					$totalizar_solicitacao_tempo_usuario_responsavel_retorno = "<div>Tempo/Solicitante: ".$totalizar_solicitacao_tempo_usuario_responsavel_retorno."<div>";
					
				}
				// fim - totalizar_solicitacao_tempo_usuario_responsavel
				
				// totalizar_solicitacao_praca_tempo_usuario_responsavel ******************
				if($row_relatorio['totalizar_solicitacao_praca_tempo_usuario_responsavel'] == 1 and $row_registro['praca'] != NULL){ 
				
					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_solicitacao_praca_tempo_usuario_responsavel[$row_registro['praca']] as $item){

						if($totalizar_solicitacao_praca_tempo_usuario_responsavel[$row_registro['praca']][$contador_array]['IdUsuario'] == $row_registro['id_usuario_responsavel']){
														
							$totalizar_solicitacao_praca_tempo_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] = 
							$totalizar_solicitacao_praca_tempo_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] + $row_registro['tempo_gasto_usuario_responsavel'];
							
						}
						
						if($totalizar_solicitacao_praca_tempo_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_solicitacao_praca_tempo_usuario_responsavel[$row_registro['praca']] as $item){
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_solicitacao_praca_tempo_usuario_responsavel_retorno .= $item['nome'].": ".tempo_gasto_conversao($item['contador']).$virgula;
						}
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_solicitacao_praca_tempo_usuario_responsavel_retorno = "<div>Tempo/Solicitante: ".$totalizar_solicitacao_praca_tempo_usuario_responsavel_retorno."</div>";
					
					if($row_relatorio['totalizar_solicitacao_praca_geral_tempo_usuario_responsavel'] > 0){ 
						$totalizar_solicitacao_praca_geral_tempo_usuario_responsavel_retorno = $totalizar_solicitacao_praca_tempo_usuario_responsavel_retorno;
					}

				}
				// fim - totalizar_solicitacao_praca_tempo_usuario_responsavel ************

				// totalizar_solicitacao_tempo_operador
				if(
				($row_relatorio['totalizar_solicitacao_tempo_operador'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_solicitacao_tempo_operador'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_solicitacao_tempo_operador'] == 3) // sem praça
				){
				
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_solicitacao_tempo_operador as $item){
						
						if($totalizar_solicitacao_tempo_operador[$contador_array]['IdUsuario'] == $row_registro['id_operador']){
							
							$totalizar_solicitacao_tempo_operador[$contador_array]['contador'] = 
							$totalizar_solicitacao_tempo_operador[$contador_array]['contador'] + $row_registro['tempo_gasto_operador'];
							
						}
						
						if($totalizar_solicitacao_tempo_operador[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}

						$contador_array ++;
						
					}
					
					// contador
					$totalizar_solicitacao_tempo_operador_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_solicitacao_tempo_operador as $item){
						$contador_array ++;
						if($item['contador'] > 0) {
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_solicitacao_tempo_operador_retorno .= $item['nome'].": ".tempo_gasto_conversao($item['contador']).$virgula;
						}
					}
					// fim - contador
					
					$totalizar_solicitacao_tempo_operador_retorno = "<div>Tempo/Operador: ".$totalizar_solicitacao_tempo_operador_retorno."<div>";
					
				}
				// fim - totalizar_solicitacao_tempo_operador
				
				// totalizar_solicitacao_praca_tempo_operador ******************
				if($row_relatorio['totalizar_solicitacao_praca_tempo_operador'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_solicitacao_praca_tempo_operador[$row_registro['praca']] as $item){

						if($totalizar_solicitacao_praca_tempo_operador[$row_registro['praca']][$contador_array]['IdUsuario'] == $row_registro['id_operador']){
														
							$totalizar_solicitacao_praca_tempo_operador[$row_registro['praca']][$contador_array]['contador'] = 
							$totalizar_solicitacao_praca_tempo_operador[$row_registro['praca']][$contador_array]['contador'] + $row_registro['tempo_gasto_operador'];
							
						}
						
						if($totalizar_solicitacao_praca_tempo_operador[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_solicitacao_praca_tempo_operador[$row_registro['praca']] as $item){
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_solicitacao_praca_tempo_operador_retorno .= $item['nome'].": ".tempo_gasto_conversao($item['contador']).$virgula;
						}
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_solicitacao_praca_tempo_operador_retorno = "<div>Tempo/Operador: ".$totalizar_solicitacao_praca_tempo_operador_retorno."</div>";
					
					if($row_relatorio['totalizar_solicitacao_praca_geral_tempo_operador'] > 0){ 
						$totalizar_solicitacao_praca_geral_tempo_operador_retorno = $totalizar_solicitacao_praca_tempo_operador_retorno;
					}

				}
				// fim - totalizar_solicitacao_praca_tempo_operador ************
												
				// totalizar_solicitacao_tempo_executante
				if(
				($row_relatorio['totalizar_solicitacao_tempo_executante'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_solicitacao_tempo_executante'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_solicitacao_tempo_executante'] == 3) // sem praça
				){
				
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_solicitacao_tempo_executante as $item){
						
						if($totalizar_solicitacao_tempo_executante[$contador_array]['IdUsuario'] == $row_registro['id_executante']){
							
							$totalizar_solicitacao_tempo_executante[$contador_array]['contador'] = 
							$totalizar_solicitacao_tempo_executante[$contador_array]['contador'] + $row_registro['tempo_gasto_executante'];
							
						}
						
						if($totalizar_solicitacao_tempo_executante[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}

						$contador_array ++;
						
					}
					
					// contador
					$totalizar_solicitacao_tempo_executante_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_solicitacao_tempo_executante as $item){
						$contador_array ++;
						if($item['contador'] > 0) {
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_solicitacao_tempo_executante_retorno .= $item['nome'].": ".tempo_gasto_conversao($item['contador']).$virgula;
						}
					}
					// fim - contador
					
					$totalizar_solicitacao_tempo_executante_retorno = "<div>Tempo/Executante: ".$totalizar_solicitacao_tempo_executante_retorno."<div>";
					
				}
				// fim - totalizar_solicitacao_tempo_executante
				
				// totalizar_solicitacao_praca_tempo_executante ******************
				if($row_relatorio['totalizar_solicitacao_praca_tempo_executante'] == 1 and $row_registro['praca'] != NULL){ 
				
					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_solicitacao_praca_tempo_executante[$row_registro['praca']] as $item){

						if($totalizar_solicitacao_praca_tempo_executante[$row_registro['praca']][$contador_array]['IdUsuario'] == $row_registro['id_executante']){
														
							$totalizar_solicitacao_praca_tempo_executante[$row_registro['praca']][$contador_array]['contador'] = 
							$totalizar_solicitacao_praca_tempo_executante[$row_registro['praca']][$contador_array]['contador'] + $row_registro['tempo_gasto_executante'];
							
						}
						
						if($totalizar_solicitacao_praca_tempo_executante[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_solicitacao_praca_tempo_executante[$row_registro['praca']] as $item){
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_solicitacao_praca_tempo_executante_retorno .= $item['nome'].": ".tempo_gasto_conversao($item['contador']).$virgula;
						}
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_solicitacao_praca_tempo_executante_retorno = "<div>Tempo/Executante: ".$totalizar_solicitacao_praca_tempo_executante_retorno."</div>";
					
					if($row_relatorio['totalizar_solicitacao_praca_geral_tempo_executante'] > 0){ 
						$totalizar_solicitacao_praca_geral_tempo_executante_retorno = $totalizar_solicitacao_praca_tempo_executante_retorno;
					}

				}
				// fim - totalizar_solicitacao_praca_tempo_executante ************
				
				// totalizar_solicitacao_tempo_testador
				if(
				($row_relatorio['totalizar_solicitacao_tempo_testador'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_solicitacao_tempo_testador'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_solicitacao_tempo_testador'] == 3) // sem praça
				){
				
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_solicitacao_tempo_testador as $item){
						
						if($totalizar_solicitacao_tempo_testador[$contador_array]['IdUsuario'] == $row_registro['id_testador']){
							
							$totalizar_solicitacao_tempo_testador[$contador_array]['contador'] = 
							$totalizar_solicitacao_tempo_testador[$contador_array]['contador'] + $row_registro['tempo_gasto_testador'];
							
						}
						
						if($totalizar_solicitacao_tempo_testador[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}

						$contador_array ++;
						
					}
					
					// contador
					$totalizar_solicitacao_tempo_testador_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_solicitacao_tempo_testador as $item){
						$contador_array ++;
						if($item['contador'] > 0) {
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_solicitacao_tempo_testador_retorno .= $item['nome'].": ".tempo_gasto_conversao($item['contador']).$virgula;
						}
					}
					// fim - contador
					
					$totalizar_solicitacao_tempo_testador_retorno = "<div>Tempo/Testador: ".$totalizar_solicitacao_tempo_testador_retorno."<div>";
					
				}
				// fim - totalizar_solicitacao_tempo_testador
				
				// totalizar_solicitacao_praca_tempo_testador ******************
				if($row_relatorio['totalizar_solicitacao_praca_tempo_testador'] == 1 and $row_registro['praca'] != NULL){ 
				
					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_solicitacao_praca_tempo_testador[$row_registro['praca']] as $item){

						if($totalizar_solicitacao_praca_tempo_testador[$row_registro['praca']][$contador_array]['IdUsuario'] == $row_registro['id_testador']){
														
							$totalizar_solicitacao_praca_tempo_testador[$row_registro['praca']][$contador_array]['contador'] = 
							$totalizar_solicitacao_praca_tempo_testador[$row_registro['praca']][$contador_array]['contador'] + $row_registro['tempo_gasto_testador'];
							
						}
						
						if($totalizar_solicitacao_praca_tempo_testador[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_solicitacao_praca_tempo_testador[$row_registro['praca']] as $item){
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_solicitacao_praca_tempo_testador_retorno .= $item['nome'].": ".tempo_gasto_conversao($item['contador']).$virgula;
						}
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_solicitacao_praca_tempo_testador_retorno = "<div>Tempo/Testador: ".$totalizar_solicitacao_praca_tempo_testador_retorno."</div>";
					
					if($row_relatorio['totalizar_solicitacao_praca_geral_tempo_testador'] > 0){ 
						$totalizar_solicitacao_praca_geral_tempo_testador_retorno = $totalizar_solicitacao_praca_tempo_testador_retorno;
					}

				}
				// fim - totalizar_solicitacao_praca_tempo_testador ************
				
				// totalizar_solicitacao_situacao
				if(
				($row_relatorio['totalizar_solicitacao_situacao'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_solicitacao_situacao'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_solicitacao_situacao'] == 3) // sem praça
				){
				
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_solicitacao_situacao as $item){
						
						if($totalizar_solicitacao_situacao[$contador_array]['situacao'] == $row_registro['situacao']){
							$totalizar_solicitacao_situacao[$contador_array]['contador'] = $totalizar_solicitacao_situacao[$contador_array]['contador'] + 1;
						}
						
						if($totalizar_solicitacao_situacao[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
	
						$contador_array ++;
						
					}

					// contador
					$totalizar_solicitacao_situacao_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_solicitacao_situacao as $item){
						$contador_array ++;
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_solicitacao_situacao_retorno .= $item['situacao'].": ".$item['contador'].$virgula;
						}
					}
					// fim - contador
					
					$totalizar_solicitacao_situacao_retorno = "<div>Situação: ".$totalizar_solicitacao_situacao_retorno."</div>";
						
				}
				// fim - totalizar_solicitacao_situacao
				
				// totalizar_solicitacao_praca_situacao ******************
				if($row_relatorio['totalizar_solicitacao_praca_situacao'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_solicitacao_praca_situacao[$row_registro['praca']] as $item){
						if($totalizar_solicitacao_praca_situacao[$row_registro['praca']][$contador_array]['situacao'] == $row_registro['situacao']){
							$totalizar_solicitacao_praca_situacao[$row_registro['praca']][$contador_array]['contador'] = $totalizar_solicitacao_praca_situacao[$row_registro['praca']][$contador_array]['contador'] + 1;
						}
						
						if($totalizar_solicitacao_praca_situacao[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_solicitacao_praca_situacao[$row_registro['praca']] as $item){
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_solicitacao_praca_situacao_retorno .= $item['situacao'].": ".$item['contador'].$virgula;
						}
						
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_solicitacao_praca_situacao_retorno = "<div>Situação: ".$totalizar_solicitacao_praca_situacao_retorno."</div>";
					
					if($row_relatorio['totalizar_solicitacao_praca_geral_situacao'] > 0){ 
						$totalizar_solicitacao_praca_geral_situacao_retorno = $totalizar_solicitacao_praca_situacao_retorno;
					}

				}
				// fim - totalizar_solicitacao_praca_situacao ************

				// totalizar_solicitacao_status
				if(
				($row_relatorio['totalizar_solicitacao_status'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_solicitacao_status'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_solicitacao_status'] == 3) // sem praça
				){
				
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_solicitacao_status as $item){
						
						if($totalizar_solicitacao_status[$contador_array]['status'] == $row_registro['status']){
							$totalizar_solicitacao_status[$contador_array]['contador'] = $totalizar_solicitacao_status[$contador_array]['contador'] + 1;
						}
						
						if($totalizar_solicitacao_status[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
	
						$contador_array ++;
						
					}
		
					// contador
					$totalizar_solicitacao_status_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_solicitacao_status as $item){
						$contador_array ++;
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_solicitacao_status_retorno .= $item['status'].": ".$item['contador'].$virgula;
						}
					}
					// fim - contador
					
					$totalizar_solicitacao_status_retorno = "<div>Status: ".$totalizar_solicitacao_status_retorno."</div>";
						
				}
				// fim - totalizar_solicitacao_status
				
				// totalizar_solicitacao_praca_status ******************
				if($row_relatorio['totalizar_solicitacao_praca_status'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_solicitacao_praca_status[$row_registro['praca']] as $item){
						if($totalizar_solicitacao_praca_status[$row_registro['praca']][$contador_array]['status'] == $row_registro['status']){
							$totalizar_solicitacao_praca_status[$row_registro['praca']][$contador_array]['contador'] = $totalizar_solicitacao_praca_status[$row_registro['praca']][$contador_array]['contador'] + 1;
						}
						
						if($totalizar_solicitacao_praca_status[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_solicitacao_praca_status[$row_registro['praca']] as $item){
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_solicitacao_praca_status_retorno .= $item['status'].": ".$item['contador'].$virgula;
						}
						
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_solicitacao_praca_status_retorno = "<div>Status: ".$totalizar_solicitacao_praca_status_retorno."</div>";
					
					if($row_relatorio['totalizar_solicitacao_praca_geral_status'] > 0){ 
						$totalizar_solicitacao_praca_geral_status_retorno = $totalizar_solicitacao_praca_status_retorno;
					}

				}
				// fim - totalizar_solicitacao_praca_status ************

				// totalizar_solicitacao_envolvido
				if(
				($row_relatorio['totalizar_solicitacao_envolvido'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_solicitacao_envolvido'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_solicitacao_envolvido'] == 3) // sem praça
				){ 
				
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_solicitacao_envolvido as $item){

						if($totalizar_solicitacao_envolvido[$contador_array]['nome'] == $row_registro['envolvido']){
							$totalizar_solicitacao_envolvido[$contador_array]['contador'] = $totalizar_solicitacao_envolvido[$contador_array]['contador'] + 1;
						}
						
						if($totalizar_solicitacao_envolvido[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;
						
					}
			
					// contador
					$totalizar_solicitacao_envolvido_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_solicitacao_envolvido as $item){
						$contador_array ++;
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_solicitacao_envolvido_retorno .= $item['nome'].": ".$item['contador'].$virgula;
						}
					}
					// fim - contador
					
					$totalizar_solicitacao_envolvido_retorno = "<div>Qtde/Envolvido: ".$totalizar_solicitacao_envolvido_retorno."<div>";
						
				}
				// fim - totalizar_solicitacao_envolvido
								
				// totalizar_solicitacao_praca_envolvido ******************
				if($row_relatorio['totalizar_solicitacao_praca_envolvido'] == 1 and $row_registro['praca'] != NULL){ 
					
					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_solicitacao_praca_envolvido[$row_registro['praca']] as $item){
						
						if($totalizar_solicitacao_praca_envolvido[$row_registro['praca']][$contador_array]['nome'] == $row_registro['envolvido']){
							$totalizar_solicitacao_praca_envolvido[$row_registro['praca']][$contador_array]['contador'] = $totalizar_solicitacao_praca_envolvido[$row_registro['praca']][$contador_array]['contador'] + 1;
						}
						
						if($totalizar_solicitacao_praca_envolvido[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_solicitacao_praca_envolvido[$row_registro['praca']] as $item){

						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_solicitacao_praca_envolvido_retorno .= $item['nome'].": ".$item['contador'].$virgula;
						}
						$contador_array ++;
						
					}
					// fim - retorno por praça
					
					$totalizar_solicitacao_praca_envolvido_retorno = "<div>Qtde/Envolvido: ".$totalizar_solicitacao_praca_envolvido_retorno."</div>";
					
					if($row_relatorio['totalizar_solicitacao_praca_geral_envolvido'] > 0){ 
						$totalizar_solicitacao_praca_geral_envolvido_retorno = $totalizar_solicitacao_praca_envolvido_retorno;
					}

				}
				// fim - totalizar_solicitacao_praca_envolvido ************
				
				// totalizar_solicitacao_tipo_envolvido
				if(
				(
				($row_relatorio['totalizar_solicitacao_tipo_envolvido'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_solicitacao_tipo_envolvido'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_solicitacao_tipo_envolvido'] == 3) // sem praça
				) and
				$row_registro['envolvido'] != NULL
				){
					
					// incrementa contador
					$contador_array = 0;
					$contador_virgula_solicitacao_tipo_envolvido[$row_registro['envolvido']] = NULL;
					$totalizar_usuario_atual_solicitacao_tipo_envolvido[$row_registro['envolvido']] = NULL;
					foreach ($totalizar_solicitacao_tipo_envolvido[$row_registro['envolvido']] as $item){
						
						$totalizar_usuario_atual_solicitacao_tipo_envolvido[$row_registro['envolvido']] = $row_registro['envolvido'];
						
						if($totalizar_solicitacao_tipo_envolvido[$row_registro['envolvido']][$contador_array]['titulo'] == $row_registro['tipo']){
							$totalizar_solicitacao_tipo_envolvido[$row_registro['envolvido']][$contador_array]['contador'] = $totalizar_solicitacao_tipo_envolvido[$row_registro['envolvido']][$contador_array]['contador'] + 1;
						}
						
						if($totalizar_solicitacao_tipo_envolvido[$row_registro['envolvido']][$contador_array]['contador'] > 0){
							$contador_virgula_solicitacao_tipo_envolvido[$row_registro['envolvido']] ++;
						}
						
						$contador_array ++;
						
					}
					// fim - incrementa contador
					
					$totalizar_solicitacao_tipo_envolvido_retorno = "Tipo/Envolvido: <br>";
					foreach($totalizar_usuario_atual_solicitacao_tipo_envolvido as $item2){
						
						
						$totalizar_solicitacao_tipo_envolvido_retorno .= "<div>".$item2.": ";

						// retorno por usuario
						$contador_array = 0;
						$contador_virgula_atual = 0;
						foreach ($totalizar_solicitacao_tipo_envolvido[$item2] as $item){
							
							if($item['contador'] > 0){
								$contador_virgula_atual ++;
								if($contador_virgula_atual < $contador_virgula_solicitacao_tipo_envolvido[$item2]){$virgula=", ";}else{$virgula="";}
								$totalizar_solicitacao_tipo_envolvido_retorno .= $item['titulo'].": ".$item['contador'].$virgula;
							}
							
						}
						// fim - retorno por usuario

						$totalizar_solicitacao_tipo_envolvido_retorno = $totalizar_solicitacao_tipo_envolvido_retorno."</div>";

					}
					
				}
				// fim - totalizar_solicitacao_tipo_envolvido

				// totalizar_solicitacao_praca_tipo_envolvido ******************
				if($row_relatorio['totalizar_solicitacao_praca_tipo_envolvido'] == 1 and $row_registro['praca'] != NULL and $row_registro['envolvido'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					$contador_virgula_solicitacao_praca_tipo_envolvido[$row_registro['praca']][$row_registro['envolvido']] = NULL;
					$totalizar_usuario_atual_solicitacao_praca_tipo_envolvido[$row_registro['praca']][$row_registro['envolvido']] = NULL;
					
					foreach ($totalizar_solicitacao_praca_tipo_envolvido[$row_registro['praca']][$row_registro['envolvido']] as $item){
						
						$totalizar_usuario_atual_solicitacao_praca_tipo_envolvido[$row_registro['praca']][$row_registro['envolvido']] = $row_registro['envolvido'];
						
						if($totalizar_solicitacao_praca_tipo_envolvido[$row_registro['praca']][$row_registro['envolvido']][$contador_array]['titulo'] == $row_registro['tipo']){
							$totalizar_solicitacao_praca_tipo_envolvido[$row_registro['praca']][$row_registro['envolvido']][$contador_array]['contador'] = $totalizar_solicitacao_praca_tipo_envolvido[$row_registro['praca']][$row_registro['envolvido']][$contador_array]['contador'] + 1;
						}
						
						if($totalizar_solicitacao_praca_tipo_envolvido[$row_registro['praca']][$row_registro['envolvido']][$contador_array]['contador'] > 0){
							$contador_virgula_solicitacao_praca_tipo_envolvido[$row_registro['praca']][$row_registro['envolvido']] ++;
						}
						
						$contador_array ++;	
						
					}
					// fim - incrementa contador
					
					$totalizar_solicitacao_praca_tipo_envolvido_retorno = "Tipo/Envolvido: <br>";
					foreach($totalizar_usuario_atual_solicitacao_praca_tipo_envolvido[$row_registro['praca']] as $item2){
						
						$totalizar_solicitacao_praca_tipo_envolvido_retorno .= "<div>".$item2.": ";
						
						// retorno por usuario
						$contador_array = 0;
						$contador_virgula_atual = 0;
						foreach ($totalizar_solicitacao_praca_tipo_envolvido[$row_registro['praca']][$item2] as $item){

							if($item['contador'] > 0){
								$contador_virgula_atual ++;
								if($contador_virgula_atual < $contador_virgula_solicitacao_praca_tipo_envolvido[$row_registro['praca']][$item2]){$virgula=", ";}else{$virgula="";}
								$totalizar_solicitacao_praca_tipo_envolvido_retorno .= $item['titulo'].": ".$item['contador'].$virgula;
							}
							
						}
						// fim - retorno por usuario

						$totalizar_solicitacao_praca_tipo_envolvido_retorno = $totalizar_solicitacao_praca_tipo_envolvido_retorno."</div>";

						if($row_relatorio['totalizar_solicitacao_praca_geral_tipo_envolvido'] > 0){ 
							$totalizar_solicitacao_praca_geral_tipo_envolvido_retorno = $totalizar_solicitacao_praca_tipo_envolvido_retorno;
						}
						
					}

				}
				// fim - totalizar_solicitacao_praca_tipo_envolvido ************	
				
				// totalizar_solicitacao_situacao_envolvido
				if(
				(
				($row_relatorio['totalizar_solicitacao_situacao_envolvido'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_solicitacao_situacao_envolvido'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_solicitacao_situacao_envolvido'] == 3) // sem praça
				) and
				$row_registro['envolvido'] != NULL
				){

					// incrementa contador
					$contador_array = 0;
					$contador_virgula_solicitacao_situacao_envolvido[$row_registro['envolvido']] = NULL;
					$totalizar_usuario_atual_solicitacao_situacao_envolvido[$row_registro['envolvido']] = NULL;
					
					foreach ($totalizar_solicitacao_situacao_envolvido[$row_registro['envolvido']] as $item){

						$totalizar_usuario_atual_solicitacao_situacao_envolvido[$row_registro['envolvido']] = $row_registro['envolvido'];

						if($totalizar_solicitacao_situacao_envolvido[$row_registro['envolvido']][$contador_array]['situacao'] == $row_registro['situacao']){
							$totalizar_solicitacao_situacao_envolvido[$row_registro['envolvido']][$contador_array]['contador'] = $totalizar_solicitacao_situacao_envolvido[$row_registro['envolvido']][$contador_array]['contador'] + 1;
						}
						

						if($totalizar_solicitacao_situacao_envolvido[$row_registro['envolvido']][$contador_array]['contador'] > 0){
							$teste2 = $contador_virgula_solicitacao_situacao_envolvido[$row_registro['envolvido']] ++;
						}

						$contador_array ++;
						
					}
					// fim - incrementa contador
					
					$totalizar_solicitacao_situacao_envolvido_retorno = "Situação/Envolvido: <br>";
					foreach($totalizar_usuario_atual_solicitacao_situacao_envolvido as $item2){

						$totalizar_solicitacao_situacao_envolvido_retorno .= "<div>".$item2.": ";
						
						// retorno por usuario
						$contador_array = 0;
						$contador_virgula_atual = 0;
						foreach ($totalizar_solicitacao_situacao_envolvido[$item2] as $item){
							
							if($item['contador'] > 0){
								$contador_virgula_atual ++;
								if($contador_virgula_atual < $contador_virgula_solicitacao_situacao_envolvido[$item2]){$virgula=", ";}else{$virgula="";}
								$totalizar_solicitacao_situacao_envolvido_retorno .= $item['situacao'].": ".$item['contador'].$virgula;
							}

						}
						// fim - retorno por usuario

						$totalizar_solicitacao_situacao_envolvido_retorno = $totalizar_solicitacao_situacao_envolvido_retorno."</div>";

					}

				}
				// fim - totalizar_solicitacao_situacao_envolvido
	
				// totalizar_solicitacao_praca_situacao_envolvido ******************
				if($row_relatorio['totalizar_solicitacao_praca_situacao_envolvido'] == 1 and $row_registro['praca'] != NULL and $row_registro['envolvido'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					$contador_virgula_solicitacao_praca_situacao_envolvido[$row_registro['praca']][$row_registro['envolvido']] = NULL;
					$totalizar_usuario_atual_solicitacao_praca_situacao_envolvido[$row_registro['praca']][$row_registro['envolvido']] = NULL;
					foreach ($totalizar_solicitacao_praca_situacao_envolvido[$row_registro['praca']][$row_registro['envolvido']] as $item){
						
						$totalizar_usuario_atual_solicitacao_praca_situacao_envolvido[$row_registro['praca']][$row_registro['envolvido']] = $row_registro['envolvido'];
						
						if($totalizar_solicitacao_praca_situacao_envolvido[$row_registro['praca']][$row_registro['envolvido']][$contador_array]['situacao'] == $row_registro['situacao']){
							$totalizar_solicitacao_praca_situacao_envolvido[$row_registro['praca']][$row_registro['envolvido']][$contador_array]['contador'] = $totalizar_solicitacao_praca_situacao_envolvido[$row_registro['praca']][$row_registro['envolvido']][$contador_array]['contador'] + 1;
						}
						
						if($totalizar_solicitacao_praca_situacao_envolvido[$row_registro['praca']][$row_registro['envolvido']][$contador_array]['contador'] > 0){
							$contador_virgula_solicitacao_praca_situacao_envolvido[$row_registro['praca']][$row_registro['envolvido']] ++;
						}
						
						$contador_array ++;
							
					}
					// fim - incrementa contador
					
					$totalizar_solicitacao_praca_situacao_envolvido_retorno = "Situação/Envolvido: <br>";
					foreach($totalizar_usuario_atual_solicitacao_praca_situacao_envolvido[$row_registro['praca']] as $item2){
						
						$totalizar_solicitacao_praca_situacao_envolvido_retorno .= "<div>".$item2.": ";
						
						// retorno por usuario
						$contador_array = 0;
						$contador_virgula_atual = 0;
						foreach ($totalizar_solicitacao_praca_situacao_envolvido[$row_registro['praca']][$item2] as $item){

							if($item['contador'] > 0){
								$contador_virgula_atual ++;
								if($contador_virgula_atual < $contador_virgula_solicitacao_praca_situacao_envolvido[$row_registro['praca']][$item2]){$virgula=", ";}else{$virgula="";}
								$totalizar_solicitacao_praca_situacao_envolvido_retorno .= $item['situacao'].": ".$item['contador'].$virgula;
							}

						}
						// fim - retorno por usuario

						$totalizar_solicitacao_praca_situacao_envolvido_retorno = $totalizar_solicitacao_praca_situacao_envolvido_retorno."</div>";

						if($row_relatorio['totalizar_solicitacao_praca_geral_situacao_envolvido'] > 0){ 
							$totalizar_solicitacao_praca_geral_situacao_envolvido_retorno = $totalizar_solicitacao_praca_situacao_envolvido_retorno;
						}
						
					}

				}
				// fim - totalizar_solicitacao_praca_situacao_envolvido ************
				
				// totalizar_solicitacao_tempo_envolvido
				if(
				($row_relatorio['totalizar_solicitacao_tempo_envolvido'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_solicitacao_tempo_envolvido'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_solicitacao_tempo_envolvido'] == 3) // sem praça
				){
				
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_solicitacao_tempo_envolvido as $item){
						
						if($totalizar_solicitacao_tempo_envolvido[$contador_array]['nome'] == $row_registro['envolvido']){
							
							$totalizar_solicitacao_tempo_envolvido[$contador_array]['contador'] = 
							$totalizar_solicitacao_tempo_envolvido[$contador_array]['contador'] + $row_registro['tempo_gasto'];
							
						}
						
						if($totalizar_solicitacao_tempo_envolvido[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}

						$contador_array ++;
						
					}
					
					// contador
					$totalizar_solicitacao_tempo_envolvido_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_solicitacao_tempo_envolvido as $item){
						$contador_array ++;
						if($item['contador'] > 0) {
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_solicitacao_tempo_envolvido_retorno .= $item['nome'].": ".tempo_gasto_conversao($item['contador']).$virgula;
						}
					}
					// fim - contador
					
					$totalizar_solicitacao_tempo_envolvido_retorno = "<div>Tempo/Envolvido: ".$totalizar_solicitacao_tempo_envolvido_retorno."<div>";
					
				}
				// fim - totalizar_solicitacao_tempo_envolvido
				
				// totalizar_solicitacao_praca_tempo_envolvido ******************
				if($row_relatorio['totalizar_solicitacao_praca_tempo_envolvido'] == 1 and $row_registro['praca'] != NULL){ 
				
					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_solicitacao_praca_tempo_envolvido[$row_registro['praca']] as $item){

						if($totalizar_solicitacao_praca_tempo_envolvido[$row_registro['praca']][$contador_array]['nome'] == $row_registro['envolvido']){
														
							$totalizar_solicitacao_praca_tempo_envolvido[$row_registro['praca']][$contador_array]['contador'] = 
							$totalizar_solicitacao_praca_tempo_envolvido[$row_registro['praca']][$contador_array]['contador'] + $row_registro['tempo_gasto'];
							
						}
						
						if($totalizar_solicitacao_praca_tempo_envolvido[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_solicitacao_praca_tempo_envolvido[$row_registro['praca']] as $item){
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_solicitacao_praca_tempo_envolvido_retorno .= $item['nome'].": ".tempo_gasto_conversao($item['contador']).$virgula;
						}
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_solicitacao_praca_tempo_envolvido_retorno = "<div>Tempo/Envolvido: ".$totalizar_solicitacao_praca_tempo_envolvido_retorno."</div>";
					
					if($row_relatorio['totalizar_solicitacao_praca_geral_tempo_envolvido'] > 0){ 
						$totalizar_solicitacao_praca_geral_tempo_envolvido_retorno = $totalizar_solicitacao_praca_tempo_envolvido_retorno;
					}

				}
				// fim - totalizar_solicitacao_praca_tempo_envolvido ************

				// totalizar_solicitacao_usuario_responsavel
				if(
				($row_relatorio['totalizar_solicitacao_usuario_responsavel'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_solicitacao_usuario_responsavel'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_solicitacao_usuario_responsavel'] == 3) // sem praça
				){ 
				
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_solicitacao_usuario_responsavel as $item){

						if($totalizar_solicitacao_usuario_responsavel[$contador_array]['IdUsuario'] == $row_registro['id_usuario_responsavel']){
							$totalizar_solicitacao_usuario_responsavel[$contador_array]['contador'] = $totalizar_solicitacao_usuario_responsavel[$contador_array]['contador'] + 1;
						}
						
						if($totalizar_solicitacao_usuario_responsavel[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;
						
					}
			
					// contador
					$totalizar_solicitacao_usuario_responsavel_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_solicitacao_usuario_responsavel as $item){
						$contador_array ++;
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_solicitacao_usuario_responsavel_retorno .= $item['nome'].": ".$item['contador'].$virgula;
						}
					}
					// fim - contador
					
					$totalizar_solicitacao_usuario_responsavel_retorno = "<div>Qtde/Solicitante: ".$totalizar_solicitacao_usuario_responsavel_retorno."<div>";
						
				}
				// fim - totalizar_solicitacao_usuario_responsavel	
				
				// totalizar_solicitacao_praca_usuario_responsavel ******************
				if($row_relatorio['totalizar_solicitacao_praca_usuario_responsavel'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_solicitacao_praca_usuario_responsavel[$row_registro['praca']] as $item){
						
						if($totalizar_solicitacao_praca_usuario_responsavel[$row_registro['praca']][$contador_array]['IdUsuario'] == $row_registro['id_usuario_responsavel']){
							$totalizar_solicitacao_praca_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] = $totalizar_solicitacao_praca_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] + 1;
						}
						
						if($totalizar_solicitacao_praca_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador

					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_solicitacao_praca_usuario_responsavel[$row_registro['praca']] as $item){

						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_solicitacao_praca_usuario_responsavel_retorno .= $item['nome'].": ".$item['contador'].$virgula;
						}
						
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_solicitacao_praca_usuario_responsavel_retorno = "<div>Qtde/Solicitante: ".$totalizar_solicitacao_praca_usuario_responsavel_retorno."</div>";
					
					if($row_relatorio['totalizar_solicitacao_praca_geral_usuario_responsavel'] > 0){ 
						$totalizar_solicitacao_praca_geral_usuario_responsavel_retorno = $totalizar_solicitacao_praca_usuario_responsavel_retorno;
					}

				}
				// fim - totalizar_solicitacao_praca_usuario_responsavel ************		

				// totalizar_solicitacao_operador
				if(
				($row_relatorio['totalizar_solicitacao_operador'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_solicitacao_operador'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_solicitacao_operador'] == 3) // sem praça
				){ 
				
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_solicitacao_operador as $item){

						if($totalizar_solicitacao_operador[$contador_array]['IdUsuario'] == $row_registro['id_operador']){
							$totalizar_solicitacao_operador[$contador_array]['contador'] = $totalizar_solicitacao_operador[$contador_array]['contador'] + 1;
						}
						
						if($totalizar_solicitacao_operador[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;
						
					}
			
					// contador
					$totalizar_solicitacao_operador_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_solicitacao_operador as $item){
						$contador_array ++;
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_solicitacao_operador_retorno .= $item['nome'].": ".$item['contador'].$virgula;
						}
					}
					// fim - contador
					
					$totalizar_solicitacao_operador_retorno = "<div>Qtde/Operador: ".$totalizar_solicitacao_operador_retorno."<div>";
						
				}
				// fim - totalizar_solicitacao_operador	
				
				// totalizar_solicitacao_praca_operador ******************
				if($row_relatorio['totalizar_solicitacao_praca_operador'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_solicitacao_praca_operador[$row_registro['praca']] as $item){
						
						if($totalizar_solicitacao_praca_operador[$row_registro['praca']][$contador_array]['IdUsuario'] == $row_registro['id_operador']){
							$totalizar_solicitacao_praca_operador[$row_registro['praca']][$contador_array]['contador'] = $totalizar_solicitacao_praca_operador[$row_registro['praca']][$contador_array]['contador'] + 1;
						}
						
						if($totalizar_solicitacao_praca_operador[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_solicitacao_praca_operador[$row_registro['praca']] as $item){

						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_solicitacao_praca_operador_retorno .= $item['nome'].": ".$item['contador'].$virgula;
						}
						
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_solicitacao_praca_operador_retorno = "<div>Qtde/Operador: ".$totalizar_solicitacao_praca_operador_retorno."</div>";
					
					if($row_relatorio['totalizar_solicitacao_praca_geral_operador'] > 0){ 
						$totalizar_solicitacao_praca_geral_operador_retorno = $totalizar_solicitacao_praca_operador_retorno;
					}

				}
				// fim - totalizar_solicitacao_praca_operador ************	
				
				// totalizar_solicitacao_executante
				if(
				($row_relatorio['totalizar_solicitacao_executante'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_solicitacao_executante'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_solicitacao_executante'] == 3) // sem praça
				){ 
				
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_solicitacao_executante as $item){

						if($totalizar_solicitacao_executante[$contador_array]['IdUsuario'] == $row_registro['id_executante']){
							$totalizar_solicitacao_executante[$contador_array]['contador'] = $totalizar_solicitacao_executante[$contador_array]['contador'] + 1;
						}
						
						if($totalizar_solicitacao_executante[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;
						
					}
			
					// contador
					$totalizar_solicitacao_executante_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_solicitacao_executante as $item){
						$contador_array ++;
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_solicitacao_executante_retorno .= $item['nome'].": ".$item['contador'].$virgula;
						}
					}
					// fim - contador
					
					$totalizar_solicitacao_executante_retorno = "<div>Qtde/Executante: ".$totalizar_solicitacao_executante_retorno."<div>";
						
				}
				// fim - totalizar_solicitacao_executante
								
				// totalizar_solicitacao_praca_executante ******************
				if($row_relatorio['totalizar_solicitacao_praca_executante'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_solicitacao_praca_executante[$row_registro['praca']] as $item){
						
						if($totalizar_solicitacao_praca_executante[$row_registro['praca']][$contador_array]['IdUsuario'] == $row_registro['id_executante']){
							$totalizar_solicitacao_praca_executante[$row_registro['praca']][$contador_array]['contador'] = $totalizar_solicitacao_praca_executante[$row_registro['praca']][$contador_array]['contador'] + 1;
						}
						
						if($totalizar_solicitacao_praca_executante[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_solicitacao_praca_executante[$row_registro['praca']] as $item){

						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_solicitacao_praca_executante_retorno .= $item['nome'].": ".$item['contador'].$virgula;
						}
						
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_solicitacao_praca_executante_retorno = "<div>Qtde/Executante: ".$totalizar_solicitacao_praca_executante_retorno."</div>";
					
					if($row_relatorio['totalizar_solicitacao_praca_geral_executante'] > 0){ 
						$totalizar_solicitacao_praca_geral_executante_retorno = $totalizar_solicitacao_praca_executante_retorno;
					}

				}
				// fim - totalizar_solicitacao_praca_executante ************
				
				// totalizar_solicitacao_testador
				if(
				($row_relatorio['totalizar_solicitacao_testador'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_solicitacao_testador'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_solicitacao_testador'] == 3) // sem praça
				){ 
				
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_solicitacao_testador as $item){

						if($totalizar_solicitacao_testador[$contador_array]['IdUsuario'] == $row_registro['id_testador']){
							$totalizar_solicitacao_testador[$contador_array]['contador'] = $totalizar_solicitacao_testador[$contador_array]['contador'] + 1;
						}
						
						if($totalizar_solicitacao_testador[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;
						
					}
			
					// contador
					$totalizar_solicitacao_testador_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_solicitacao_testador as $item){
						$contador_array ++;
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_solicitacao_testador_retorno .= $item['nome'].": ".$item['contador'].$virgula;
						}
					}
					// fim - contador
					
					$totalizar_solicitacao_testador_retorno = "<div>Qtde/Testador: ".$totalizar_solicitacao_testador_retorno."<div>";
						
				}
				// fim - totalizar_solicitacao_testador	
				
				// totalizar_solicitacao_praca_testador ******************
				if($row_relatorio['totalizar_solicitacao_praca_testador'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_solicitacao_praca_testador[$row_registro['praca']] as $item){
						
						if($totalizar_solicitacao_praca_testador[$row_registro['praca']][$contador_array]['IdUsuario'] == $row_registro['id_testador']){
							$totalizar_solicitacao_praca_testador[$row_registro['praca']][$contador_array]['contador'] = $totalizar_solicitacao_praca_testador[$row_registro['praca']][$contador_array]['contador'] + 1;
						}
						
						if($totalizar_solicitacao_praca_testador[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_solicitacao_praca_testador[$row_registro['praca']] as $item){

						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_solicitacao_praca_testador_retorno .= $item['nome'].": ".$item['contador'].$virgula;
						}
						
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_solicitacao_praca_testador_retorno = "<div>Qtde/Testador: ".$totalizar_solicitacao_praca_testador_retorno."</div>";
					
					if($row_relatorio['totalizar_solicitacao_praca_geral_testador'] > 0){ 
						$totalizar_solicitacao_praca_geral_testador_retorno = $totalizar_solicitacao_praca_testador_retorno;
					}

				}
				// fim - totalizar_solicitacao_praca_testador ************	

				// totalizar_solicitacao_orcamento_usuario_responsavel
				if(
				($row_relatorio['totalizar_solicitacao_orcamento_usuario_responsavel'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_solicitacao_orcamento_usuario_responsavel'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_solicitacao_orcamento_usuario_responsavel'] == 3) // sem praça
				){ 
				
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_solicitacao_orcamento_usuario_responsavel as $item){
						
						if($totalizar_solicitacao_orcamento_usuario_responsavel[$contador_array]['IdUsuario'] == $row_registro['id_usuario_responsavel']){
							
							$totalizar_solicitacao_orcamento_usuario_responsavel[$contador_array]['contador'] = $totalizar_solicitacao_orcamento_usuario_responsavel[$contador_array]['contador'] + $row_registro['orcamento'];
							
						}
						
						if($totalizar_solicitacao_orcamento_usuario_responsavel[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}

						$contador_array ++;
						
					}
					
					// contador
					$totalizar_solicitacao_orcamento_usuario_responsavel_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_solicitacao_orcamento_usuario_responsavel as $item){
						$contador_array ++;
						if($item['contador'] > 0) {
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_solicitacao_orcamento_usuario_responsavel_retorno .= $item['nome'].": R$ ".number_format($item['contador'], 2, ',', '.').$virgula;
						}
					}
					// fim - contador
					
					$totalizar_solicitacao_orcamento_usuario_responsavel_retorno = "<div>Valor/Solicitante: ".$totalizar_solicitacao_orcamento_usuario_responsavel_retorno."<div>";
					
				}
				// fim - totalizar_solicitacao_orcamento_usuario_responsavel
				
				// totalizar_solicitacao_praca_orcamento_usuario_responsavel ******************
				if($row_relatorio['totalizar_solicitacao_praca_orcamento_usuario_responsavel'] == 1 and $row_registro['praca'] != NULL){ 
				
					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_solicitacao_praca_orcamento_usuario_responsavel[$row_registro['praca']] as $item){

						if($totalizar_solicitacao_praca_orcamento_usuario_responsavel[$row_registro['praca']][$contador_array]['IdUsuario'] == $row_registro['id_usuario_responsavel']){
														
							$totalizar_solicitacao_praca_orcamento_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] = 
							$totalizar_solicitacao_praca_orcamento_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] + $row_registro['orcamento'];
							
						}
						
						if($totalizar_solicitacao_praca_orcamento_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_solicitacao_praca_orcamento_usuario_responsavel[$row_registro['praca']] as $item){
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_solicitacao_praca_orcamento_usuario_responsavel_retorno .= $item['nome'].": R$ ".number_format($item['contador'], 2, ',', '.').$virgula;
						}
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_solicitacao_praca_orcamento_usuario_responsavel_retorno = "<div>Valor/Solicitante: ".$totalizar_solicitacao_praca_orcamento_usuario_responsavel_retorno."</div>";
					
					if($row_relatorio['totalizar_solicitacao_praca_geral_orcamento_usuario_responsavel'] > 0){ 
						$totalizar_solicitacao_praca_geral_orcamento_usuario_responsavel_retorno = $totalizar_solicitacao_praca_orcamento_usuario_responsavel_retorno;
					}

				}
				// fim - totalizar_solicitacao_praca_orcamento_usuario_responsavel ************

				// totalizar_solicitacao_tipo_responsavel
				if(
				(
				($row_relatorio['totalizar_solicitacao_tipo_responsavel'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_solicitacao_tipo_responsavel'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_solicitacao_tipo_responsavel'] == 3) // sem praça
				) and
				$row_registro['id_usuario_responsavel'] != NULL
				){

					// incrementa contador
					$contador_array = 0;
					$totalizar_usuario_atual_solicitacao_tipo_responsavel[$row_registro['id_usuario_responsavel']] = NULL;
					foreach ($totalizar_solicitacao_tipo_responsavel[$row_registro['id_usuario_responsavel']] as $item){
						
						$totalizar_usuario_atual_solicitacao_tipo_responsavel[$row_registro['id_usuario_responsavel']] = $row_registro['id_usuario_responsavel'];
						
						if($totalizar_solicitacao_tipo_responsavel[$row_registro['id_usuario_responsavel']][$contador_array]['titulo'] == $row_registro['tipo']){
							$totalizar_solicitacao_tipo_responsavel[$row_registro['id_usuario_responsavel']][$contador_array]['contador'] = $totalizar_solicitacao_tipo_responsavel[$row_registro['id_usuario_responsavel']][$contador_array]['contador'] + 1;
						}
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					$totalizar_solicitacao_tipo_responsavel_retorno = "Tipo/Solicitante: <br>";
					foreach($totalizar_usuario_atual_solicitacao_tipo_responsavel as $item2){
						
						$totalizar_solicitacao_tipo_responsavel_retorno .= "<div>".$usuarios_array_atual[$item2].": ";
						
						// retorno por usuario
						$contador_array = 0;
						foreach ($totalizar_solicitacao_tipo_responsavel[$item2] as $item){
	
							if($contador_array < count($totalizar_solicitacao_tipo_responsavel[$item2])-1){$virgula=", ";}else{$virgula="";}
							$totalizar_solicitacao_tipo_responsavel_retorno .= $item['titulo'].": ".$item['contador'].$virgula;
							
							$contador_array ++;	
						}
						// fim - retorno por usuario

						$totalizar_solicitacao_tipo_responsavel_retorno = $totalizar_solicitacao_tipo_responsavel_retorno."</div>";

					}

				}
				// fim - totalizar_solicitacao_tipo_responsavel

				// totalizar_solicitacao_praca_tipo_responsavel ******************
				if($row_relatorio['totalizar_solicitacao_praca_tipo_responsavel'] == 1 and $row_registro['praca'] != NULL and $row_registro['id_usuario_responsavel'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					$totalizar_usuario_atual_solicitacao_praca_tipo_responsavel_solicitacao_praca_tipo_responsavel[$row_registro['praca']][$row_registro['id_usuario_responsavel']] = NULL;
					foreach ($totalizar_solicitacao_praca_tipo_responsavel[$row_registro['praca']][$row_registro['id_usuario_responsavel']] as $item){
						
						$totalizar_usuario_atual_solicitacao_praca_tipo_responsavel_solicitacao_praca_tipo_responsavel[$row_registro['praca']][$row_registro['id_usuario_responsavel']] = $row_registro['id_usuario_responsavel'];
						
						if($totalizar_solicitacao_praca_tipo_responsavel[$row_registro['praca']][$row_registro['id_usuario_responsavel']][$contador_array]['titulo'] == $row_registro['tipo']){
							$totalizar_solicitacao_praca_tipo_responsavel[$row_registro['praca']][$row_registro['id_usuario_responsavel']][$contador_array]['contador'] = $totalizar_solicitacao_praca_tipo_responsavel[$row_registro['praca']][$row_registro['id_usuario_responsavel']][$contador_array]['contador'] + 1;
						}
						$contador_array ++;	
					}
					// fim - incrementa contador

					$totalizar_solicitacao_praca_tipo_responsavel_retorno = "Tipo/Solicitante: <br>";
					foreach($totalizar_usuario_atual_solicitacao_praca_tipo_responsavel_solicitacao_praca_tipo_responsavel[$row_registro['praca']] as $item2){
						
						$totalizar_solicitacao_praca_tipo_responsavel_retorno .= "<div>".$usuarios_array_atual[$item2].": ";
						
						// retorno por usuario
						$contador_array = 0;
						foreach ($totalizar_solicitacao_praca_tipo_responsavel[$row_registro['praca']][$item2] as $item){
	
							if($contador_array < count($totalizar_solicitacao_praca_tipo_responsavel[$row_registro['praca']][$item2])-1){$virgula=", ";}else{$virgula="";}
							$totalizar_solicitacao_praca_tipo_responsavel_retorno .= $item['titulo'].": ".$item['contador'].$virgula;
							
							$contador_array ++;	
						}
						// fim - retorno por usuario

						$totalizar_solicitacao_praca_tipo_responsavel_retorno = $totalizar_solicitacao_praca_tipo_responsavel_retorno."</div>";

						if($row_relatorio['totalizar_solicitacao_praca_geral_tipo_responsavel'] > 0){ 
							$totalizar_solicitacao_praca_geral_tipo_responsavel_retorno = $totalizar_solicitacao_praca_tipo_responsavel_retorno;
						}
						
					}

				}
				// fim - totalizar_solicitacao_praca_tipo_responsavel ************	
								
				
				
				
				
				// totalizar_suporte_avaliacao_atendimento
				if(
				($row_relatorio['totalizar_suporte_avaliacao_atendimento'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_suporte_avaliacao_atendimento'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_suporte_avaliacao_atendimento'] == 3) // sem praça
				){ 
				
					$contador_array = 0;
					foreach($totalizar_suporte_avaliacao_atendimento as $item){
						
						if($totalizar_suporte_avaliacao_atendimento[$contador_array]['titulo'] == $row_registro['avaliacao_atendimento']){
							$totalizar_suporte_avaliacao_atendimento[$contador_array]['contador'] = $totalizar_suporte_avaliacao_atendimento[$contador_array]['contador'] + 1;
						}
	
						$contador_array ++;
						
					}
		
					// contador
					$totalizar_suporte_avaliacao_atendimento_retorno = NULL;
					$contador_array = 0;
					foreach($totalizar_suporte_avaliacao_atendimento as $item){
						$contador_array ++;
						if($contador_array <> count($totalizar_suporte_avaliacao_atendimento)){$virgula=", ";}else{$virgula="";} // se não é a última, então insere OR
						$totalizar_suporte_avaliacao_atendimento_retorno .= $item['titulo'].": ".$item['contador'].$virgula;
					}
					// fim - contador
					
					$totalizar_suporte_avaliacao_atendimento_retorno = "<div>Qualidade do atendimento: ".$totalizar_suporte_avaliacao_atendimento_retorno."<div>";
						
				}
				// fim - totalizar_suporte_avaliacao_atendimento
				
				// totalizar_suporte_praca_avaliacao_atendimento ******************
				if($row_relatorio['totalizar_suporte_praca_avaliacao_atendimento'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					foreach ($totalizar_suporte_praca_avaliacao_atendimento[$row_registro['praca']] as $item){
						//echo $item['titulo'];
						if($totalizar_suporte_praca_avaliacao_atendimento[$row_registro['praca']][$contador_array]['titulo'] == $row_registro['avaliacao_atendimento']){
							$totalizar_suporte_praca_avaliacao_atendimento[$row_registro['praca']][$contador_array]['contador'] = $totalizar_suporte_praca_avaliacao_atendimento[$row_registro['praca']][$contador_array]['contador'] + 1;
						}
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					foreach ($totalizar_suporte_praca_avaliacao_atendimento[$row_registro['praca']] as $item){
						if($contador_array < count($totalizar_suporte_praca_avaliacao_atendimento[$row_registro['praca']])-1){$virgula=", ";}else{$virgula="";}
						$totalizar_suporte_praca_avaliacao_atendimento_retorno .= $item['titulo'].": ".$item['contador'].$virgula;
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_suporte_praca_avaliacao_atendimento_retorno = "<div>Qualidade do atendimento: ".$totalizar_suporte_praca_avaliacao_atendimento_retorno."</div>";
					
					if($row_relatorio['totalizar_suporte_praca_geral_avaliacao_atendimento'] > 0){ 
						$totalizar_suporte_praca_geral_avaliacao_atendimento_retorno = $totalizar_suporte_praca_avaliacao_atendimento_retorno;
					}

				}
				// fim - totalizar_suporte_praca_avaliacao_atendimento ************

				// totalizar_suporte_tipo_atendimento
				if(
				($row_relatorio['totalizar_suporte_tipo_atendimento'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_suporte_tipo_atendimento'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_suporte_tipo_atendimento'] == 3) // sem praça
				){
				
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_suporte_tipo_atendimento as $item){
						
						if($totalizar_suporte_tipo_atendimento[$contador_array]['descricao'] == $row_registro['tipo_atendimento']){
							$totalizar_suporte_tipo_atendimento[$contador_array]['contador'] = $totalizar_suporte_tipo_atendimento[$contador_array]['contador'] + 1;
						}
						
						if($totalizar_suporte_tipo_atendimento[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
	
						$contador_array ++;
						
					}
			
					// contador
					$totalizar_suporte_tipo_atendimento_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_suporte_tipo_atendimento as $item){
						$contador_array ++;
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_suporte_tipo_atendimento_retorno .= $item['descricao'].": ".$item['contador'].$virgula;
						}
						
					}
					// fim - contador
					
					$totalizar_suporte_tipo_atendimento_retorno = "<div>Tipo de atendimento: ".$totalizar_suporte_tipo_atendimento_retorno."<div>";
						
				}
				// fim - totalizar_suporte_tipo_atendimento	
				
				// totalizar_suporte_praca_tipo_atendimento ******************
				if($row_relatorio['totalizar_suporte_praca_tipo_atendimento'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_suporte_praca_tipo_atendimento[$row_registro['praca']] as $item){
						//echo $item['descricao'];
						if($totalizar_suporte_praca_tipo_atendimento[$row_registro['praca']][$contador_array]['descricao'] == $row_registro['tipo_atendimento']){
							$totalizar_suporte_praca_tipo_atendimento[$row_registro['praca']][$contador_array]['contador'] = $totalizar_suporte_praca_tipo_atendimento[$row_registro['praca']][$contador_array]['contador'] + 1;
						}
						
						if($totalizar_suporte_praca_tipo_atendimento[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_suporte_praca_tipo_atendimento[$row_registro['praca']] as $item){
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_suporte_praca_tipo_atendimento_retorno .= $item['descricao'].": ".$item['contador'].$virgula;
						}
						
						$contador_array ++;	

					}
					// fim - retorno por praça
					
					$totalizar_suporte_praca_tipo_atendimento_retorno = "<div>Tipo de atendimento: ".$totalizar_suporte_praca_tipo_atendimento_retorno."</div>";
					
					if($row_relatorio['totalizar_suporte_praca_geral_tipo_atendimento'] > 0){ 
						$totalizar_suporte_praca_geral_tipo_atendimento_retorno = $totalizar_suporte_praca_tipo_atendimento_retorno;
					}


				}
				// fim - totalizar_suporte_praca_tipo_atendimento ************
				
				// totalizar_suporte_tipo_recomendacao
				if(
				($row_relatorio['totalizar_suporte_tipo_recomendacao'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_suporte_tipo_recomendacao'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_suporte_tipo_recomendacao'] == 3) // sem praça
				){	
							
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_suporte_tipo_recomendacao as $item){
						
						if($totalizar_suporte_tipo_recomendacao[$contador_array]['titulo'] == $row_registro['recomendacao']){
							$totalizar_suporte_tipo_recomendacao[$contador_array]['contador'] = $totalizar_suporte_tipo_recomendacao[$contador_array]['contador'] + 1;
						}
						
						if($totalizar_suporte_tipo_recomendacao[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
	
						$contador_array ++;
						
					}
					
					// contador
					$totalizar_suporte_tipo_recomendacao_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_suporte_tipo_recomendacao as $item){
						$contador_array ++;
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_suporte_tipo_recomendacao_retorno .= $item['titulo'].": ".$item['contador'].$virgula;
						}
					}
					// fim - contador
					
					$totalizar_suporte_tipo_recomendacao_retorno = "<div>Recomendação: ".$totalizar_suporte_tipo_recomendacao_retorno."<div>";

				}
				// fim - totalizar_suporte_tipo_recomendacao	

				// totalizar_suporte_praca_tipo_recomendacao ******************
				if($row_relatorio['totalizar_suporte_praca_tipo_recomendacao'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_suporte_praca_tipo_recomendacao[$row_registro['praca']] as $item){
						if($totalizar_suporte_praca_tipo_recomendacao[$row_registro['praca']][$contador_array]['titulo'] == $row_registro['recomendacao']){
							$totalizar_suporte_praca_tipo_recomendacao[$row_registro['praca']][$contador_array]['contador'] = $totalizar_suporte_praca_tipo_recomendacao[$row_registro['praca']][$contador_array]['contador'] + 1;
						}
						
						if($totalizar_suporte_praca_tipo_recomendacao[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_suporte_praca_tipo_recomendacao[$row_registro['praca']] as $item){
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_suporte_praca_tipo_recomendacao_retorno .= $item['titulo'].": ".$item['contador'].$virgula;
						}
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_suporte_praca_tipo_recomendacao_retorno = "<div>Recomendação: ".$totalizar_suporte_praca_tipo_recomendacao_retorno."</div>";
					
					if($row_relatorio['totalizar_suporte_praca_geral_tipo_recomendacao'] > 0){ 
						$totalizar_suporte_praca_geral_tipo_recomendacao_retorno = $totalizar_suporte_praca_tipo_recomendacao_retorno;
					}

				}
				// fim - totalizar_suporte_praca_tipo_recomendacao ************
				
				// totalizar_suporte_tipo_parecer
				if(
				($row_relatorio['totalizar_suporte_tipo_parecer'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_suporte_tipo_parecer'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_suporte_tipo_parecer'] == 3) // sem praça
				){	
							
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_suporte_tipo_parecer as $item){
						
						if($totalizar_suporte_tipo_parecer[$contador_array]['descricao'] == $row_registro['parecer']){
							$totalizar_suporte_tipo_parecer[$contador_array]['contador'] = $totalizar_suporte_tipo_parecer[$contador_array]['contador'] + 1;
						}
						
						if($totalizar_suporte_tipo_parecer[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
	
						$contador_array ++;
						
					}
					
					// contador
					$totalizar_suporte_tipo_parecer_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_suporte_tipo_parecer as $item){
						$contador_array ++;
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_suporte_tipo_parecer_retorno .= $item['descricao'].": ".$item['contador'].$virgula;
						}
					}
					// fim - contador
					
					$totalizar_suporte_tipo_parecer_retorno = "<div>Parecer: ".$totalizar_suporte_tipo_parecer_retorno."<div>";

				}
				// fim - totalizar_suporte_tipo_parecer	

				// totalizar_suporte_praca_tipo_parecer ******************
				if($row_relatorio['totalizar_suporte_praca_tipo_parecer'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_suporte_praca_tipo_parecer[$row_registro['praca']] as $item){
						if($totalizar_suporte_praca_tipo_parecer[$row_registro['praca']][$contador_array]['descricao'] == $row_registro['parecer']){
							$totalizar_suporte_praca_tipo_parecer[$row_registro['praca']][$contador_array]['contador'] = $totalizar_suporte_praca_tipo_parecer[$row_registro['praca']][$contador_array]['contador'] + 1;
						}
						
						if($totalizar_suporte_praca_tipo_parecer[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_suporte_praca_tipo_parecer[$row_registro['praca']] as $item){
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_suporte_praca_tipo_parecer_retorno .= $item['descricao'].": ".$item['contador'].$virgula;
						}
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_suporte_praca_tipo_parecer_retorno = "<div>Parecer: ".$totalizar_suporte_praca_tipo_parecer_retorno."</div>";
					
					if($row_relatorio['totalizar_suporte_praca_geral_tipo_parecer'] > 0){ 
						$totalizar_suporte_praca_geral_tipo_parecer_retorno = $totalizar_suporte_praca_tipo_parecer_retorno;
					}

				}
				// fim - totalizar_suporte_praca_tipo_parecer ************
								
				// totalizar_suporte_tempo
				if(
				($row_relatorio['totalizar_suporte_tempo'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_suporte_tempo'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_suporte_tempo'] == 3) // sem praça
				){	
				
					$totalizar_suporte_tempo = $totalizar_suporte_tempo + $row_registro['tempo_gasto'];

					$totalizar_suporte_tempo_retorno = "&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;Tempo: ".tempo_gasto_conversao($totalizar_suporte_tempo);
					
				}
				// fim - totalizar_suporte_tempo
				
				// totalizar_suporte_praca_tempo ******************
				if($row_relatorio['totalizar_suporte_praca_tempo'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					foreach ($totalizar_suporte_praca_tempo[$row_registro['praca']] as $item){
						$totalizar_suporte_praca_tempo[$row_registro['praca']]['tempo_gasto'] = $totalizar_suporte_praca_tempo[$row_registro['praca']]['tempo_gasto'] + $row_registro['tempo_gasto'];
					}
					// fim - incrementa contador
					
					// retorno por praça
					foreach ($totalizar_suporte_praca_tempo[$row_registro['praca']] as $item){
						$totalizar_suporte_praca_tempo_retorno .= $item;
					}
					// fim - retorno por praça
					
					$totalizar_suporte_praca_tempo_retorno = "&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;Tempo: ".tempo_gasto_conversao($totalizar_suporte_praca_tempo_retorno);
					
					if($row_relatorio['totalizar_suporte_praca_geral_tempo'] > 0){ 
						$totalizar_suporte_praca_geral_tempo_retorno = $totalizar_suporte_praca_tempo_retorno;
					}

				}
				// fim - totalizar_suporte_praca_tempo ************

				// totalizar_suporte_valor
				if(
				($row_relatorio['totalizar_suporte_valor'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_suporte_valor'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_suporte_valor'] == 3) // sem praça
				){
				
					$totalizar_suporte_valor = $totalizar_suporte_valor + $row_registro['valor'];
					
					$totalizar_suporte_valor_retorno = "&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;Valor Total: R$ ".number_format($totalizar_suporte_valor, 2, ',', '.');
					
				}
				// fim - totalizar_suporte_valor

				// totalizar_suporte_praca_valor ******************
				if($row_relatorio['totalizar_suporte_praca_valor'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					foreach ($totalizar_suporte_praca_valor[$row_registro['praca']] as $item){
						$totalizar_suporte_praca_valor[$row_registro['praca']]['valor'] = $totalizar_suporte_praca_valor[$row_registro['praca']]['valor'] + $row_registro['valor'];
					}
					// fim - incrementa contador
					
					// retorno por praça
					foreach ($totalizar_suporte_praca_valor[$row_registro['praca']] as $item){
						$totalizar_suporte_praca_valor_retorno .= $item;
					}
					// fim - retorno por praça
					
					$totalizar_suporte_praca_valor_retorno = "&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;Valor Total: R$ ".number_format($totalizar_suporte_praca_valor_retorno, 2, ',', '.');
					
					if($row_relatorio['totalizar_suporte_praca_geral_valor'] > 0){ 
						$totalizar_suporte_praca_geral_valor_retorno = $totalizar_suporte_praca_valor_retorno;
					}

				}
				// fim - totalizar_suporte_praca_valor ************
				
				// totalizar_suporte_valor_usuario_responsavel
				if(
				($row_relatorio['totalizar_suporte_valor_usuario_responsavel'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_suporte_valor_usuario_responsavel'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_suporte_valor_usuario_responsavel'] == 3) // sem praça
				){ 
				
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_suporte_valor_usuario_responsavel as $item){
						
						if($totalizar_suporte_valor_usuario_responsavel[$contador_array]['IdUsuario'] == $row_registro['id_usuario_responsavel']){
							
							$totalizar_suporte_valor_usuario_responsavel[$contador_array]['contador'] = $totalizar_suporte_valor_usuario_responsavel[$contador_array]['contador'] + $row_registro['valor'];
							
						}
						
						if($totalizar_suporte_valor_usuario_responsavel[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}

						$contador_array ++;
						
					}
					
					// contador
					$totalizar_suporte_valor_usuario_responsavel_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_suporte_valor_usuario_responsavel as $item){
						$contador_array ++;
						if($item['contador'] > 0) {
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_suporte_valor_usuario_responsavel_retorno .= $item['nome'].": R$ ".number_format($item['contador'], 2, ',', '.').$virgula;
						}
					}
					// fim - contador
					
					$totalizar_suporte_valor_usuario_responsavel_retorno = "<div>Valor/Atendente: ".$totalizar_suporte_valor_usuario_responsavel_retorno."<div>";
					
				}
				// fim - totalizar_suporte_valor_usuario_responsavel
				
				// totalizar_suporte_praca_valor_usuario_responsavel ******************
				if($row_relatorio['totalizar_suporte_praca_valor_usuario_responsavel'] == 1 and $row_registro['praca'] != NULL){ 
				
					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_suporte_praca_valor_usuario_responsavel[$row_registro['praca']] as $item){

						if($totalizar_suporte_praca_valor_usuario_responsavel[$row_registro['praca']][$contador_array]['IdUsuario'] == $row_registro['id_usuario_responsavel']){
														
							$totalizar_suporte_praca_valor_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] = 
							$totalizar_suporte_praca_valor_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] + $row_registro['valor'];
							
						}
						
						if($totalizar_suporte_praca_valor_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_suporte_praca_valor_usuario_responsavel[$row_registro['praca']] as $item){
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_suporte_praca_valor_usuario_responsavel_retorno .= $item['nome'].": R$ ".number_format($item['contador'], 2, ',', '.').$virgula;
						}
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_suporte_praca_valor_usuario_responsavel_retorno = "<div>Valor/Atendente: ".$totalizar_suporte_praca_valor_usuario_responsavel_retorno."</div>";
					
					if($row_relatorio['totalizar_suporte_praca_geral_valor_usuario_responsavel'] > 0){ 
						$totalizar_suporte_praca_geral_valor_usuario_responsavel_retorno = $totalizar_suporte_praca_valor_usuario_responsavel_retorno;
					}

				}
				// fim - totalizar_suporte_praca_valor_usuario_responsavel ************

				// totalizar_suporte_situacao
				if(
				($row_relatorio['totalizar_suporte_situacao'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_suporte_situacao'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_suporte_situacao'] == 3) // sem praça
				){
				
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_suporte_situacao as $item){
						
						if($totalizar_suporte_situacao[$contador_array]['situacao'] == $row_registro['situacao']){
							$totalizar_suporte_situacao[$contador_array]['contador'] = $totalizar_suporte_situacao[$contador_array]['contador'] + 1;
						}
						
						if($totalizar_suporte_situacao[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
	
						$contador_array ++;
						
					}
		
					// contador
					$totalizar_suporte_situacao_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_suporte_situacao as $item){
						$contador_array ++;
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_suporte_situacao_retorno .= $item['situacao'].": ".$item['contador'].$virgula;
						}
					}
					// fim - contador
					
					$totalizar_suporte_situacao_retorno = "<div>Situação: ".$totalizar_suporte_situacao_retorno."</div>";
						
				}
				// fim - totalizar_suporte_situacao
				
				// totalizar_suporte_praca_situacao ******************
				if($row_relatorio['totalizar_suporte_praca_situacao'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_suporte_praca_situacao[$row_registro['praca']] as $item){
						if($totalizar_suporte_praca_situacao[$row_registro['praca']][$contador_array]['situacao'] == $row_registro['situacao']){
							$totalizar_suporte_praca_situacao[$row_registro['praca']][$contador_array]['contador'] = $totalizar_suporte_praca_situacao[$row_registro['praca']][$contador_array]['contador'] + 1;
						}
						
						if($totalizar_suporte_praca_situacao[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_suporte_praca_situacao[$row_registro['praca']] as $item){
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_suporte_praca_situacao_retorno .= $item['situacao'].": ".$item['contador'].$virgula;
						}
						
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_suporte_praca_situacao_retorno = "<div>Situação: ".$totalizar_suporte_praca_situacao_retorno."</div>";
					
					if($row_relatorio['totalizar_suporte_praca_geral_situacao'] > 0){ 
						$totalizar_suporte_praca_geral_situacao_retorno = $totalizar_suporte_praca_situacao_retorno;
					}

				}
				// fim - totalizar_suporte_praca_situacao ************

				// totalizar_suporte_usuario_responsavel
				if(
				($row_relatorio['totalizar_suporte_usuario_responsavel'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_suporte_usuario_responsavel'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_suporte_usuario_responsavel'] == 3) // sem praça
				){ 
				
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_suporte_usuario_responsavel as $item){

						if($totalizar_suporte_usuario_responsavel[$contador_array]['IdUsuario'] == $row_registro['id_usuario_responsavel']){
							$totalizar_suporte_usuario_responsavel[$contador_array]['contador'] = $totalizar_suporte_usuario_responsavel[$contador_array]['contador'] + 1;
						}
						
						if($totalizar_suporte_usuario_responsavel[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;
						
					}
			
					// contador
					$totalizar_suporte_usuario_responsavel_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_suporte_usuario_responsavel as $item){
						$contador_array ++;
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_suporte_usuario_responsavel_retorno .= $item['nome'].": ".$item['contador'].$virgula;
						}
					}
					// fim - contador
					
					$totalizar_retorno_titulo = 'Qtde/Atendente';
					if($row_registro['tipo_suporte'] == "r"){
						$totalizar_retorno_titulo = 'Qtde/Responsável';
					}
					$totalizar_suporte_usuario_responsavel_retorno = "<div>$totalizar_retorno_titulo: ".$totalizar_suporte_usuario_responsavel_retorno."<div>";
						
				}
				// fim - totalizar_suporte_usuario_responsavel	
				
				// totalizar_suporte_praca_usuario_responsavel ******************
				if($row_relatorio['totalizar_suporte_praca_usuario_responsavel'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_suporte_praca_usuario_responsavel[$row_registro['praca']] as $item){
						
						if($totalizar_suporte_praca_usuario_responsavel[$row_registro['praca']][$contador_array]['IdUsuario'] == $row_registro['id_usuario_responsavel']){
							$totalizar_suporte_praca_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] = $totalizar_suporte_praca_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] + 1;
						}
						
						if($totalizar_suporte_praca_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_suporte_praca_usuario_responsavel[$row_registro['praca']] as $item){

						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_suporte_praca_usuario_responsavel_retorno .= $item['nome'].": ".$item['contador'].$virgula;
						}
						
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_retorno_titulo = 'Qtde/Atendente';
					if($row_registro['tipo_suporte'] == "r"){
						$totalizar_retorno_titulo = 'Qtde/Responsável';
					}
					
					$totalizar_suporte_praca_usuario_responsavel_retorno = "<div>$totalizar_retorno_titulo: ".$totalizar_suporte_praca_usuario_responsavel_retorno."</div>";
					
					if($row_relatorio['totalizar_suporte_praca_geral_usuario_responsavel'] > 0){ 
						$totalizar_suporte_praca_geral_usuario_responsavel_retorno = $totalizar_suporte_praca_usuario_responsavel_retorno;
					}

				}
				// fim - totalizar_suporte_praca_usuario_responsavel ************		

				// totalizar_suporte_tempo_usuario_responsavel
				if(
				($row_relatorio['totalizar_suporte_tempo_usuario_responsavel'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_suporte_tempo_usuario_responsavel'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_suporte_tempo_usuario_responsavel'] == 3) // sem praça
				){ 
				
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_suporte_tempo_usuario_responsavel as $item){
						
						if($totalizar_suporte_tempo_usuario_responsavel[$contador_array]['IdUsuario'] == $row_registro['id_usuario_responsavel']){
							
							$totalizar_suporte_tempo_usuario_responsavel[$contador_array]['contador'] = 
							$totalizar_suporte_tempo_usuario_responsavel[$contador_array]['contador'] + $row_registro['tempo_gasto'];
							
						}
						
						if($totalizar_suporte_tempo_usuario_responsavel[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}

						$contador_array ++;
						
					}
					
					// contador
					$totalizar_suporte_tempo_usuario_responsavel_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_suporte_tempo_usuario_responsavel as $item){
						$contador_array ++;
						if($item['contador'] > 0) {
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_suporte_tempo_usuario_responsavel_retorno .= $item['nome'].": ".tempo_gasto_conversao($item['contador']).$virgula;
						}
					}
					// fim - contador
					
					$totalizar_retorno_titulo = 'Tempo/Atendente';
					if($row_registro['tipo_suporte'] == "r"){
						$totalizar_retorno_titulo = 'Tempo/Responsável';
					}
					
					$totalizar_suporte_tempo_usuario_responsavel_retorno = "<div>$totalizar_retorno_titulo: ".$totalizar_suporte_tempo_usuario_responsavel_retorno."<div>";
					
				}
				// fim - totalizar_suporte_tempo_usuario_responsavel
				
				// totalizar_suporte_praca_tempo_usuario_responsavel ******************
				if($row_relatorio['totalizar_suporte_praca_tempo_usuario_responsavel'] == 1 and $row_registro['praca'] != NULL){ 
				
					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_suporte_praca_tempo_usuario_responsavel[$row_registro['praca']] as $item){

						if($totalizar_suporte_praca_tempo_usuario_responsavel[$row_registro['praca']][$contador_array]['IdUsuario'] == $row_registro['id_usuario_responsavel']){

							$totalizar_suporte_praca_tempo_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] = 
							$totalizar_suporte_praca_tempo_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] + $row_registro['tempo_gasto'];
							
						}
						
						if($totalizar_suporte_praca_tempo_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_suporte_praca_tempo_usuario_responsavel[$row_registro['praca']] as $item){
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_suporte_praca_tempo_usuario_responsavel_retorno .= $item['nome'].": ".tempo_gasto_conversao($item['contador']).$virgula;
						}
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_retorno_titulo = 'Tempo/Atendente';
					if($row_registro['tipo_suporte'] == "r"){
						$totalizar_retorno_titulo = 'Tempo/Responsável';
					}
					
					$totalizar_suporte_praca_tempo_usuario_responsavel_retorno = "<div>$totalizar_retorno_titulo: ".$totalizar_suporte_praca_tempo_usuario_responsavel_retorno."</div>";
					
					if($row_relatorio['totalizar_suporte_praca_geral_tempo_usuario_responsavel'] > 0){ 
						$totalizar_suporte_praca_geral_tempo_usuario_responsavel_retorno = $totalizar_suporte_praca_tempo_usuario_responsavel_retorno;
					}

				}
				// fim - totalizar_suporte_praca_tempo_usuario_responsavel ************

				// totalizar_suporte_usuario_envolvido
				if(
				($row_relatorio['totalizar_suporte_usuario_envolvido'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_suporte_usuario_envolvido'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_suporte_usuario_envolvido'] == 3) // sem praça
				){ 
				
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_suporte_usuario_envolvido as $item){

						if($totalizar_suporte_usuario_envolvido[$contador_array]['IdUsuario'] == $row_registro['id_usuario_envolvido']){
							$totalizar_suporte_usuario_envolvido[$contador_array]['contador'] = $totalizar_suporte_usuario_envolvido[$contador_array]['contador'] + 1;
						}
						
						if($totalizar_suporte_usuario_envolvido[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;
						
					}
			
					// contador
					$totalizar_suporte_usuario_envolvido_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_suporte_usuario_envolvido as $item){
						$contador_array ++;
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_suporte_usuario_envolvido_retorno .= $item['nome'].": ".$item['contador'].$virgula;
						}
					}
					// fim - contador
					
					$totalizar_suporte_usuario_envolvido_retorno = "<div>Qtde/Solicitante: ".$totalizar_suporte_usuario_envolvido_retorno."<div>";
						
				}
				// fim - totalizar_suporte_usuario_envolvido	
				
				// totalizar_suporte_praca_usuario_envolvido ******************
				if($row_relatorio['totalizar_suporte_praca_usuario_envolvido'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_suporte_praca_usuario_envolvido[$row_registro['praca']] as $item){
						
						if($totalizar_suporte_praca_usuario_envolvido[$row_registro['praca']][$contador_array]['IdUsuario'] == $row_registro['id_usuario_envolvido']){
							$totalizar_suporte_praca_usuario_envolvido[$row_registro['praca']][$contador_array]['contador'] = $totalizar_suporte_praca_usuario_envolvido[$row_registro['praca']][$contador_array]['contador'] + 1;
						}
						
						if($totalizar_suporte_praca_usuario_envolvido[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_suporte_praca_usuario_envolvido[$row_registro['praca']] as $item){

						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_suporte_praca_usuario_envolvido_retorno .= $item['nome'].": ".$item['contador'].$virgula;
						}
						
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_suporte_praca_usuario_envolvido_retorno = "<div>Qtde/Solicitante: ".$totalizar_suporte_praca_usuario_envolvido_retorno."</div>";
					
					if($row_relatorio['totalizar_suporte_praca_geral_usuario_envolvido'] > 0){ 
						$totalizar_suporte_praca_geral_usuario_envolvido_retorno = $totalizar_suporte_praca_usuario_envolvido_retorno;
					}

				}
				// fim - totalizar_suporte_praca_usuario_envolvido ************		

				// totalizar_suporte_tempo_usuario_envolvido
				if(
				($row_relatorio['totalizar_suporte_tempo_usuario_envolvido'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_suporte_tempo_usuario_envolvido'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_suporte_tempo_usuario_envolvido'] == 3) // sem praça
				){ 
				
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_suporte_tempo_usuario_envolvido as $item){
						
						if($totalizar_suporte_tempo_usuario_envolvido[$contador_array]['IdUsuario'] == $row_registro['id_usuario_envolvido']){
							
							$totalizar_suporte_tempo_usuario_envolvido[$contador_array]['contador'] = 
							$totalizar_suporte_tempo_usuario_envolvido[$contador_array]['contador'] + $row_registro['tempo_gasto'];
							
						}
						
						if($totalizar_suporte_tempo_usuario_envolvido[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}

						$contador_array ++;
						
					}
					
					// contador
					$totalizar_suporte_tempo_usuario_envolvido_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_suporte_tempo_usuario_envolvido as $item){
						$contador_array ++;
						if($item['contador'] > 0) {
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_suporte_tempo_usuario_envolvido_retorno .= $item['nome'].": ".tempo_gasto_conversao($item['contador']).$virgula;
						}
					}
					// fim - contador
					
					$totalizar_suporte_tempo_usuario_envolvido_retorno = "<div>Tempo/Solicitante: ".$totalizar_suporte_tempo_usuario_envolvido_retorno."<div>";
					
				}
				// fim - totalizar_suporte_tempo_usuario_envolvido
				
				// totalizar_suporte_praca_tempo_usuario_envolvido ******************
				if($row_relatorio['totalizar_suporte_praca_tempo_usuario_envolvido'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_suporte_praca_tempo_usuario_envolvido[$row_registro['praca']] as $item){

						if($totalizar_suporte_praca_tempo_usuario_envolvido[$row_registro['praca']][$contador_array]['IdUsuario'] == $row_registro['id_usuario_envolvido']){
							
							$totalizar_suporte_praca_tempo_usuario_envolvido[$row_registro['praca']][$contador_array]['contador'] = 
							$totalizar_suporte_praca_tempo_usuario_envolvido[$row_registro['praca']][$contador_array]['contador'] + $row_registro['tempo_gasto'];
							
						}
						
						if($totalizar_suporte_praca_tempo_usuario_envolvido[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_suporte_praca_tempo_usuario_envolvido[$row_registro['praca']] as $item){
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_suporte_praca_tempo_usuario_envolvido_retorno .= $item['nome'].": ".tempo_gasto_conversao($item['contador']).$virgula;
						}
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_suporte_praca_tempo_usuario_envolvido_retorno = "<div>Tempo/Solicitante: ".$totalizar_suporte_praca_tempo_usuario_envolvido_retorno."</div>";
					
					if($row_relatorio['totalizar_suporte_praca_geral_tempo_usuario_envolvido'] > 0){ 
						$totalizar_suporte_praca_geral_tempo_usuario_envolvido_retorno = $totalizar_suporte_praca_tempo_usuario_envolvido_retorno;
					}

				}
				// fim - totalizar_suporte_praca_tempo_usuario_envolvido ************
				
				// totalizar_suporte_tipo_visita
				if(
				($row_relatorio['totalizar_suporte_tipo_visita'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_suporte_tipo_visita'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_suporte_tipo_visita'] == 3) // sem praça
				){
				
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_suporte_tipo_visita as $item){
						
						if($totalizar_suporte_tipo_visita[$contador_array]['visita17'] == $row_registro['visita17']){
							$totalizar_suporte_tipo_visita[$contador_array]['contador'] = $totalizar_suporte_tipo_visita[$contador_array]['contador'] + 1;
						}

						if($totalizar_suporte_tipo_visita[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
	
						$contador_array ++;
						
					}
		
					// contador
					$totalizar_suporte_tipo_visita_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_suporte_tipo_visita as $item){
						$contador_array ++;
						if($item['contador'] > 0) {
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_suporte_tipo_visita_retorno .= $item['titulo'].": ".$item['contador'].$virgula;
						}
					}
					// fim - contador
					
					$totalizar_suporte_tipo_visita_retorno = "<div>Tipo de visita: ".$totalizar_suporte_tipo_visita_retorno."<div>";
						
				}
				// fim - totalizar_suporte_tipo_visita
				
				// totalizar_suporte_praca_tipo_visita ******************
				if($row_relatorio['totalizar_suporte_praca_tipo_visita'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_suporte_praca_tipo_visita[$row_registro['praca']] as $item){
						//echo $item['titulo'];
						if($totalizar_suporte_praca_tipo_visita[$row_registro['praca']][$contador_array]['visita17'] == $row_registro['visita17']){
							$totalizar_suporte_praca_tipo_visita[$row_registro['praca']][$contador_array]['contador'] = $totalizar_suporte_praca_tipo_visita[$row_registro['praca']][$contador_array]['contador'] + 1;
						}
						
						if($totalizar_suporte_praca_tipo_visita[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_suporte_praca_tipo_visita[$row_registro['praca']] as $item){
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_suporte_praca_tipo_visita_retorno .= $item['titulo'].": ".$item['contador'].$virgula;
						}
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_suporte_praca_tipo_visita_retorno = "<div>Tipo de visita: ".$totalizar_suporte_praca_tipo_visita_retorno."</div>";
					
					if($row_relatorio['totalizar_suporte_praca_geral_tipo_visita'] > 0){ 
						$totalizar_suporte_praca_geral_tipo_visita_retorno = $totalizar_suporte_praca_tipo_visita_retorno;
					}

				}
				// fim - totalizar_suporte_praca_tipo_visita ************ 

				// totalizar_suporte_optante_acumulo
				if(
				($row_relatorio['totalizar_suporte_optante_acumulo'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_suporte_optante_acumulo'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_suporte_optante_acumulo'] == 3) // sem praça
				){
				
					$contador_array = 0;
					foreach($totalizar_suporte_optante_acumulo as $item){
						
						if($totalizar_suporte_optante_acumulo[$contador_array]['optacuv17'] == $row_registro['optacuv17']){
							$totalizar_suporte_optante_acumulo[$contador_array]['contador'] = $totalizar_suporte_optante_acumulo[$contador_array]['contador'] + 1;
						}
	
						$contador_array ++;
						
					}
		
					// contador
					$totalizar_suporte_optante_acumulo_retorno = NULL;
					$contador_array = 0;
					foreach($totalizar_suporte_optante_acumulo as $item){
						$contador_array ++;
						if($contador_array <> count($totalizar_suporte_optante_acumulo)){$virgula=", ";}else{$virgula="";} // se não é a última, então insere OR
						$totalizar_suporte_optante_acumulo_retorno .= $item['titulo'].": ".$item['contador'].$virgula;
					}
					// fim - contador
					
					$totalizar_suporte_optante_acumulo_retorno = "&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;Optante por acumulo: ".$totalizar_suporte_optante_acumulo_retorno;
						
				}
				// fim - totalizar_suporte_optante_acumulo
				
				// totalizar_suporte_praca_optante_acumulo ******************
				if($row_relatorio['totalizar_suporte_praca_optante_acumulo'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					foreach ($totalizar_suporte_praca_optante_acumulo[$row_registro['praca']] as $item){
						//echo $item['titulo'];
						if($totalizar_suporte_praca_optante_acumulo[$row_registro['praca']][$contador_array]['optacuv17'] == $row_registro['optacuv17']){
							$totalizar_suporte_praca_optante_acumulo[$row_registro['praca']][$contador_array]['contador'] = $totalizar_suporte_praca_optante_acumulo[$row_registro['praca']][$contador_array]['contador'] + 1;
						}
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					foreach ($totalizar_suporte_praca_optante_acumulo[$row_registro['praca']] as $item){
						if($contador_array < count($totalizar_suporte_praca_optante_acumulo[$row_registro['praca']])-1){$virgula=", ";}else{$virgula="";}
						$totalizar_suporte_praca_optante_acumulo_retorno .= $item['titulo'].": ".$item['contador'].$virgula;
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_suporte_praca_optante_acumulo_retorno = "&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;Optante por acumulo: ".$totalizar_suporte_praca_optante_acumulo_retorno;
					
					if($row_relatorio['totalizar_suporte_praca_geral_optante_acumulo'] > 0){ 
						$totalizar_suporte_praca_geral_optante_acumulo_retorno = $totalizar_suporte_praca_optante_acumulo_retorno;
					}

				}
				// fim - totalizar_suporte_praca_optante_acumulo ************
				
				// totalizar_suporte_avaliacao_atendimento_responsavel
				if(
				(
				($row_relatorio['totalizar_suporte_avaliacao_atendimento_responsavel'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_suporte_avaliacao_atendimento_responsavel'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_suporte_avaliacao_atendimento_responsavel'] == 3) // sem praça
				) and
				$row_registro['id_usuario_responsavel'] != NULL
				){

					// incrementa contador
					$contador_array = 0;
					$totalizar_usuario_atual_suporte_avaliacao_atendimento_responsavel[$row_registro['id_usuario_responsavel']] = NULL;
					foreach ($totalizar_suporte_avaliacao_atendimento_responsavel[$row_registro['id_usuario_responsavel']] as $item){
						
						$totalizar_usuario_atual_suporte_avaliacao_atendimento_responsavel[$row_registro['id_usuario_responsavel']] = $row_registro['id_usuario_responsavel'];
						
						if($totalizar_suporte_avaliacao_atendimento_responsavel[$row_registro['id_usuario_responsavel']][$contador_array]['titulo'] == $row_registro['avaliacao_atendimento']){
							$totalizar_suporte_avaliacao_atendimento_responsavel[$row_registro['id_usuario_responsavel']][$contador_array]['contador'] = $totalizar_suporte_avaliacao_atendimento_responsavel[$row_registro['id_usuario_responsavel']][$contador_array]['contador'] + 1;
						}
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					$totalizar_suporte_avaliacao_atendimento_responsavel_retorno = "Qualidade do atendimento/Atendente: <br>";
					foreach($totalizar_usuario_atual_suporte_avaliacao_atendimento_responsavel as $item2){
						
						$totalizar_suporte_avaliacao_atendimento_responsavel_retorno .= "<div>".$usuarios_array_atual[$item2].": ";
						
						// retorno por usuario
						$contador_array = 0;
						foreach ($totalizar_suporte_avaliacao_atendimento_responsavel[$item2] as $item){
	
							if($contador_array < count($totalizar_suporte_avaliacao_atendimento_responsavel[$item2])-1){$virgula=", ";}else{$virgula="";}
							$totalizar_suporte_avaliacao_atendimento_responsavel_retorno .= $item['titulo'].": ".$item['contador'].$virgula;
							
							$contador_array ++;	
						}
						// fim - retorno por usuario

						$totalizar_suporte_avaliacao_atendimento_responsavel_retorno = $totalizar_suporte_avaliacao_atendimento_responsavel_retorno."</div>";

					}

				}
				// fim - totalizar_suporte_avaliacao_atendimento_responsavel

				// totalizar_suporte_praca_avaliacao_atendimento_responsavel ******************
				if($row_relatorio['totalizar_suporte_praca_avaliacao_atendimento_responsavel'] == 1 and $row_registro['praca'] != NULL and $row_registro['id_usuario_responsavel'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					$totalizar_usuario_atual_suporte_praca_avaliacao_atendimento_responsavel[$row_registro['praca']][$row_registro['id_usuario_responsavel']] = NULL;
					foreach ($totalizar_suporte_praca_avaliacao_atendimento_responsavel[$row_registro['praca']][$row_registro['id_usuario_responsavel']] as $item){
						
						$totalizar_usuario_atual_suporte_praca_avaliacao_atendimento_responsavel[$row_registro['praca']][$row_registro['id_usuario_responsavel']] = $row_registro['id_usuario_responsavel'];
						
						if($totalizar_suporte_praca_avaliacao_atendimento_responsavel[$row_registro['praca']][$row_registro['id_usuario_responsavel']][$contador_array]['titulo'] == $row_registro['avaliacao_atendimento']){
							$totalizar_suporte_praca_avaliacao_atendimento_responsavel[$row_registro['praca']][$row_registro['id_usuario_responsavel']][$contador_array]['contador'] = $totalizar_suporte_praca_avaliacao_atendimento_responsavel[$row_registro['praca']][$row_registro['id_usuario_responsavel']][$contador_array]['contador'] + 1;
						}
						$contador_array ++;	
					}
					// fim - incrementa contador

					$totalizar_suporte_praca_avaliacao_atendimento_responsavel_retorno = "Qualidade do atendimento/Atendente: <br>";
					foreach($totalizar_usuario_atual_suporte_praca_avaliacao_atendimento_responsavel[$row_registro['praca']] as $item2){
						
						$totalizar_suporte_praca_avaliacao_atendimento_responsavel_retorno .= "<div>".$usuarios_array_atual[$item2].": ";
						
						// retorno por usuario
						$contador_array = 0;
						foreach ($totalizar_suporte_praca_avaliacao_atendimento_responsavel[$row_registro['praca']][$item2] as $item){
	
							if($contador_array < count($totalizar_suporte_praca_avaliacao_atendimento_responsavel[$row_registro['praca']][$item2])-1){$virgula=", ";}else{$virgula="";}
							$totalizar_suporte_praca_avaliacao_atendimento_responsavel_retorno .= $item['titulo'].": ".$item['contador'].$virgula;
							
							$contador_array ++;	
						}
						// fim - retorno por usuario

						$totalizar_suporte_praca_avaliacao_atendimento_responsavel_retorno = $totalizar_suporte_praca_avaliacao_atendimento_responsavel_retorno."</div>";

						if($row_relatorio['totalizar_suporte_praca_geral_avaliacao_atendimento_responsavel'] > 0){ 
							$totalizar_suporte_praca_geral_avaliacao_atendimento_responsavel_retorno = $totalizar_suporte_praca_avaliacao_atendimento_responsavel_retorno;
						}
						
					}

				}
				// fim - totalizar_suporte_praca_avaliacao_atendimento_responsavel ************

				// totalizar_suporte_tipo_atendimento_envolvido
				if(
				(
				($row_relatorio['totalizar_suporte_tipo_atendimento_envolvido'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_suporte_tipo_atendimento_envolvido'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_suporte_tipo_atendimento_envolvido'] == 3) // sem praça
				) and
				$row_registro['id_usuario_envolvido'] != NULL
				){

					// incrementa contador
					$contador_array = 0;
					$totalizar_usuario_atual_suporte_tipo_atendimento_envolvido[$row_registro['id_usuario_envolvido']] = NULL;
					foreach ($totalizar_suporte_tipo_atendimento_envolvido[$row_registro['id_usuario_envolvido']] as $item){
						
						$totalizar_usuario_atual_suporte_tipo_atendimento_envolvido[$row_registro['id_usuario_envolvido']] = $row_registro['id_usuario_envolvido'];
						
						if($totalizar_suporte_tipo_atendimento_envolvido[$row_registro['id_usuario_envolvido']][$contador_array]['descricao'] == $row_registro['tipo_atendimento']){
							$totalizar_suporte_tipo_atendimento_envolvido[$row_registro['id_usuario_envolvido']][$contador_array]['contador'] = $totalizar_suporte_tipo_atendimento_envolvido[$row_registro['id_usuario_envolvido']][$contador_array]['contador'] + 1;
						}
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					$totalizar_suporte_tipo_atendimento_envolvido_retorno = "Tipo de atendimento/Solicitante: <br>";
					foreach($totalizar_usuario_atual_suporte_tipo_atendimento_envolvido as $item2){
						
						$totalizar_suporte_tipo_atendimento_envolvido_retorno .= "<div>".$usuarios_array_atual[$item2].": ";
						
						// retorno por usuario
						$contador_array = 0;
						foreach ($totalizar_suporte_tipo_atendimento_envolvido[$item2] as $item){
	
							if($contador_array < count($totalizar_suporte_tipo_atendimento_envolvido[$item2])-1){$virgula=", ";}else{$virgula="";}
							$totalizar_suporte_tipo_atendimento_envolvido_retorno .= $item['descricao'].": ".$item['contador'].$virgula;
							
							$contador_array ++;	
						}
						// fim - retorno por usuario

						$totalizar_suporte_tipo_atendimento_envolvido_retorno = $totalizar_suporte_tipo_atendimento_envolvido_retorno."</div>";

					}

				}
				// fim - totalizar_suporte_tipo_atendimento_envolvido

				// totalizar_suporte_praca_tipo_atendimento_envolvido ******************
				if($row_relatorio['totalizar_suporte_praca_tipo_atendimento_envolvido'] == 1 and $row_registro['praca'] != NULL and $row_registro['id_usuario_envolvido'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					$totalizar_usuario_atual_suporte_praca_tipo_atendimento_envolvido[$row_registro['praca']][$row_registro['id_usuario_envolvido']] = NULL;
					foreach ($totalizar_suporte_praca_tipo_atendimento_envolvido[$row_registro['praca']][$row_registro['id_usuario_envolvido']] as $item){
						
						$totalizar_usuario_atual_suporte_praca_tipo_atendimento_envolvido[$row_registro['praca']][$row_registro['id_usuario_envolvido']] = $row_registro['id_usuario_envolvido'];
						
						if($totalizar_suporte_praca_tipo_atendimento_envolvido[$row_registro['praca']][$row_registro['id_usuario_envolvido']][$contador_array]['descricao'] == $row_registro['tipo_atendimento']){
							$totalizar_suporte_praca_tipo_atendimento_envolvido[$row_registro['praca']][$row_registro['id_usuario_envolvido']][$contador_array]['contador'] = $totalizar_suporte_praca_tipo_atendimento_envolvido[$row_registro['praca']][$row_registro['id_usuario_envolvido']][$contador_array]['contador'] + 1;
						}
						$contador_array ++;	
					}
					// fim - incrementa contador

					$totalizar_suporte_praca_tipo_atendimento_envolvido_retorno = "Tipo de atendimento/Solicitante: <br>";
					foreach($totalizar_usuario_atual_suporte_praca_tipo_atendimento_envolvido[$row_registro['praca']] as $item2){
						
						$totalizar_suporte_praca_tipo_atendimento_envolvido_retorno .= "<div>".$usuarios_array_atual[$item2].": ";
						
						// retorno por usuario
						$contador_array = 0;
						foreach ($totalizar_suporte_praca_tipo_atendimento_envolvido[$row_registro['praca']][$item2] as $item){
	
							if($contador_array < count($totalizar_suporte_praca_tipo_atendimento_envolvido[$row_registro['praca']][$item2])-1){$virgula=", ";}else{$virgula="";}
							$totalizar_suporte_praca_tipo_atendimento_envolvido_retorno .= $item['descricao'].": ".$item['contador'].$virgula;
							
							$contador_array ++;	
						}
						// fim - retorno por usuario

						$totalizar_suporte_praca_tipo_atendimento_envolvido_retorno = $totalizar_suporte_praca_tipo_atendimento_envolvido_retorno."</div>";

						if($row_relatorio['totalizar_suporte_praca_geral_tipo_atendimento_envolvido'] > 0){ 
							$totalizar_suporte_praca_geral_tipo_atendimento_envolvido_retorno = $totalizar_suporte_praca_tipo_atendimento_envolvido_retorno;
						}
						
					}

				}
				// fim - totalizar_suporte_praca_tipo_atendimento_envolvido ************				
				
				
				
				
				
				// totalizar_prospeccao_situacao
				if(
				($row_relatorio['totalizar_prospeccao_situacao'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_prospeccao_situacao'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_prospeccao_situacao'] == 3) // sem praça
				){
				
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_prospeccao_situacao as $item){
						
						if($totalizar_prospeccao_situacao[$contador_array]['situacao'] == $row_registro['situacao']){
							$totalizar_prospeccao_situacao[$contador_array]['contador'] = $totalizar_prospeccao_situacao[$contador_array]['contador'] + 1;
						}
						
						if($totalizar_prospeccao_situacao[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
	
						$contador_array ++;
						
					}
		
					// contador
					$totalizar_prospeccao_situacao_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_prospeccao_situacao as $item){
						$contador_array ++;
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_prospeccao_situacao_retorno .= $item['situacao'].": ".$item['contador'].$virgula;
						}
					}
					// fim - contador
					
					$totalizar_prospeccao_situacao_retorno = "<div>Situação: ".$totalizar_prospeccao_situacao_retorno."</div>";
						
				}
				// fim - totalizar_prospeccao_situacao
				
				// totalizar_prospeccao_praca_situacao ******************
				if($row_relatorio['totalizar_prospeccao_praca_situacao'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_prospeccao_praca_situacao[$row_registro['praca']] as $item){
						if($totalizar_prospeccao_praca_situacao[$row_registro['praca']][$contador_array]['situacao'] == $row_registro['situacao']){
							$totalizar_prospeccao_praca_situacao[$row_registro['praca']][$contador_array]['contador'] = $totalizar_prospeccao_praca_situacao[$row_registro['praca']][$contador_array]['contador'] + 1;
						}
						
						if($totalizar_prospeccao_praca_situacao[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_prospeccao_praca_situacao[$row_registro['praca']] as $item){
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_prospeccao_praca_situacao_retorno .= $item['situacao'].": ".$item['contador'].$virgula;
						}
						
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_prospeccao_praca_situacao_retorno = "<div>Situação: ".$totalizar_prospeccao_praca_situacao_retorno."</div>";
					
					if($row_relatorio['totalizar_prospeccao_praca_geral_situacao'] > 0){ 
						$totalizar_prospeccao_praca_geral_situacao_retorno = $totalizar_prospeccao_praca_situacao_retorno;
					}

				}
				// fim - totalizar_prospeccao_praca_situacao ************	
				
				// totalizar_prospeccao_status
				if(
				($row_relatorio['totalizar_prospeccao_status'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_prospeccao_status'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_prospeccao_status'] == 3) // sem praça
				){
				
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_prospeccao_status as $item){
						
						if($totalizar_prospeccao_status[$contador_array]['status'] == $row_registro['status']){
							$totalizar_prospeccao_status[$contador_array]['contador'] = $totalizar_prospeccao_status[$contador_array]['contador'] + 1;
						}
						
						if($totalizar_prospeccao_status[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
	
						$contador_array ++;
						
					}
		
					// contador
					$totalizar_prospeccao_status_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_prospeccao_status as $item){
						$contador_array ++;
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_prospeccao_status_retorno .= $item['status'].": ".$item['contador'].$virgula;
						}
					}
					// fim - contador
					
					$totalizar_prospeccao_status_retorno = "<div>Status: ".$totalizar_prospeccao_status_retorno."</div>";
						
				}
				// fim - totalizar_prospeccao_status
				
				// totalizar_prospeccao_praca_status ******************
				if($row_relatorio['totalizar_prospeccao_praca_status'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_prospeccao_praca_status[$row_registro['praca']] as $item){
						if($totalizar_prospeccao_praca_status[$row_registro['praca']][$contador_array]['status'] == $row_registro['status']){
							$totalizar_prospeccao_praca_status[$row_registro['praca']][$contador_array]['contador'] = $totalizar_prospeccao_praca_status[$row_registro['praca']][$contador_array]['contador'] + 1;
						}
						
						if($totalizar_prospeccao_praca_status[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_prospeccao_praca_status[$row_registro['praca']] as $item){
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_prospeccao_praca_status_retorno .= $item['status'].": ".$item['contador'].$virgula;
						}
						
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_prospeccao_praca_status_retorno = "<div>Status: ".$totalizar_prospeccao_praca_status_retorno."</div>";
					
					if($row_relatorio['totalizar_prospeccao_praca_geral_status'] > 0){ 
						$totalizar_prospeccao_praca_geral_status_retorno = $totalizar_prospeccao_praca_status_retorno;
					}

				}
				// fim - totalizar_prospeccao_praca_status ************

				// totalizar_prospeccao_baixa_perda_motivo
				if(
				($row_relatorio['totalizar_prospeccao_baixa_perda_motivo'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_prospeccao_baixa_perda_motivo'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_prospeccao_baixa_perda_motivo'] == 3) // sem praça
				){
				
					$contador_array = 0;
					foreach($totalizar_prospeccao_baixa_perda_motivo as $item){
						
						if($totalizar_prospeccao_baixa_perda_motivo[$contador_array]['titulo'] == $row_registro['baixa_perda_motivo']){
							$totalizar_prospeccao_baixa_perda_motivo[$contador_array]['contador'] = $totalizar_prospeccao_baixa_perda_motivo[$contador_array]['contador'] + 1;
						}
	
						$contador_array ++;
						
					}
					
					// contador
					$totalizar_prospeccao_baixa_perda_motivo_retorno = NULL;
					$contador_array = 0;
					foreach($totalizar_prospeccao_baixa_perda_motivo as $item){
						$contador_array ++;
						if($contador_array <> count($totalizar_prospeccao_baixa_perda_motivo)){$virgula=" / ";}else{$virgula="";} // se não é a última, então insere OR
						$totalizar_prospeccao_baixa_perda_motivo_retorno .= $item['titulo'].": ".$item['contador'].$virgula;
					}
					// fim - contador
					
					$totalizar_prospeccao_baixa_perda_motivo_retorno = "<div>Motivo: ".$totalizar_prospeccao_baixa_perda_motivo_retorno."<div>";
					
				}
				// fim - totalizar_prospeccao_baixa_perda_motivo	

				// totalizar_prospeccao_praca_baixa_perda_motivo ******************
				if($row_relatorio['totalizar_prospeccao_praca_baixa_perda_motivo'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					foreach ($totalizar_prospeccao_praca_baixa_perda_motivo[$row_registro['praca']] as $item){
						//echo $item['titulo'];
						if($totalizar_prospeccao_praca_baixa_perda_motivo[$row_registro['praca']][$contador_array]['titulo'] == $row_registro['baixa_perda_motivo']){
							$totalizar_prospeccao_praca_baixa_perda_motivo[$row_registro['praca']][$contador_array]['contador'] = $totalizar_prospeccao_praca_baixa_perda_motivo[$row_registro['praca']][$contador_array]['contador'] + 1;
						}
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					foreach ($totalizar_prospeccao_praca_baixa_perda_motivo[$row_registro['praca']] as $item){
						if($contador_array < count($totalizar_prospeccao_praca_baixa_perda_motivo[$row_registro['praca']])-1){$virgula=" / ";}else{$virgula="";}
						$totalizar_prospeccao_praca_baixa_perda_motivo_retorno .= $item['titulo'].": ".$item['contador'].$virgula;
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_prospeccao_praca_baixa_perda_motivo_retorno = "<div>Motivo: ".$totalizar_prospeccao_praca_baixa_perda_motivo_retorno."</div>";
					
					if($row_relatorio['totalizar_prospeccao_praca_geral_baixa_perda_motivo'] > 0){ 
						$totalizar_prospeccao_praca_geral_baixa_perda_motivo_retorno = $totalizar_prospeccao_praca_baixa_perda_motivo_retorno;
					}

				}
				// fim - totalizar_prospeccao_praca_baixa_perda_motivo ************

				// totalizar_prospeccao_tipo_cliente
				if(
				($row_relatorio['totalizar_prospeccao_tipo_cliente'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_prospeccao_tipo_cliente'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_prospeccao_tipo_cliente'] == 3) // sem praça
				){
				
					$contador_array = 0;
					foreach($totalizar_prospeccao_tipo_cliente as $item){
						
						if($totalizar_prospeccao_tipo_cliente[$contador_array]['titulo'] == $row_registro['tipo_cliente']){
							$totalizar_prospeccao_tipo_cliente[$contador_array]['contador'] = $totalizar_prospeccao_tipo_cliente[$contador_array]['contador'] + 1;
						}
	
						$contador_array ++;
						
					}
					
					// contador
					$totalizar_prospeccao_tipo_cliente_retorno = NULL;
					$contador_array = 0;
					foreach($totalizar_prospeccao_tipo_cliente as $item){
						$contador_array ++;
						if($contador_array <> count($totalizar_prospeccao_tipo_cliente)){$virgula=" / ";}else{$virgula="";} // se não é a última, então insere OR
						$item_titulo = NULL;
						if($item['titulo'] == 'n'){$item_titulo = 'Novo';}
						if($item['titulo'] == 'a'){$item_titulo = 'Antigo';}
						$totalizar_prospeccao_tipo_cliente_retorno .= $item_titulo.": ".$item['contador'].$virgula;
					}
					// fim - contador
					
					$totalizar_prospeccao_tipo_cliente_retorno = "&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;Tipo de cliente: ".$totalizar_prospeccao_tipo_cliente_retorno;
					
				}
				// fim - totalizar_prospeccao_tipo_cliente	

				// totalizar_prospeccao_praca_tipo_cliente ******************
				if($row_relatorio['totalizar_prospeccao_praca_tipo_cliente'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					foreach ($totalizar_prospeccao_praca_tipo_cliente[$row_registro['praca']] as $item){
						//echo $item['titulo'];
						if($totalizar_prospeccao_praca_tipo_cliente[$row_registro['praca']][$contador_array]['titulo'] == $row_registro['tipo_cliente']){
							$totalizar_prospeccao_praca_tipo_cliente[$row_registro['praca']][$contador_array]['contador'] = $totalizar_prospeccao_praca_tipo_cliente[$row_registro['praca']][$contador_array]['contador'] + 1;
						}
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					foreach ($totalizar_prospeccao_praca_tipo_cliente[$row_registro['praca']] as $item){
						if($contador_array < count($totalizar_prospeccao_praca_tipo_cliente[$row_registro['praca']])-1){$virgula=" / ";}else{$virgula="";}
						if($item['titulo'] == 'n'){$item_titulo = 'Novo';}
						if($item['titulo'] == 'a'){$item_titulo = 'Antigo';}
						$totalizar_prospeccao_praca_tipo_cliente_retorno .= $item_titulo.": ".$item['contador'].$virgula;
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_prospeccao_praca_tipo_cliente_retorno = "&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;Tipo de cliente: ".$totalizar_prospeccao_praca_tipo_cliente_retorno;
					
					if($row_relatorio['totalizar_prospeccao_praca_geral_tipo_cliente'] > 0){ 
						$totalizar_prospeccao_praca_geral_tipo_cliente_retorno = $totalizar_prospeccao_praca_tipo_cliente_retorno;
					}

				}
				// fim - totalizar_prospeccao_praca_tipo_cliente ************

				// totalizar_prospeccao_ativo_passivo
				if(
				($row_relatorio['totalizar_prospeccao_ativo_passivo'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_prospeccao_ativo_passivo'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_prospeccao_ativo_passivo'] == 3) // sem praça
				){
				
					$contador_array = 0;
					foreach($totalizar_prospeccao_ativo_passivo as $item){
						
						if($totalizar_prospeccao_ativo_passivo[$contador_array]['titulo'] == $row_registro['ativo_passivo']){
							$totalizar_prospeccao_ativo_passivo[$contador_array]['contador'] = $totalizar_prospeccao_ativo_passivo[$contador_array]['contador'] + 1;
						}
	
						$contador_array ++;
						
					}
					
					// contador
					$totalizar_prospeccao_ativo_passivo_retorno = NULL;
					$contador_array = 0;
					foreach($totalizar_prospeccao_ativo_passivo as $item){
						$contador_array ++;
						if($contador_array <> count($totalizar_prospeccao_ativo_passivo)){$virgula=" / ";}else{$virgula="";} // se não é a última, então insere OR
						$item_titulo = NULL;
						if($item['titulo'] == 'p'){$item_titulo = 'Passivo';}
						if($item['titulo'] == 'a'){$item_titulo = 'Ativo';}
						$totalizar_prospeccao_ativo_passivo_retorno .= $item_titulo.": ".$item['contador'].$virgula;
					}
					// fim - contador
					
					$totalizar_prospeccao_ativo_passivo_retorno = "&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;Prospect: ".$totalizar_prospeccao_ativo_passivo_retorno;
					
				}
				// fim - totalizar_prospeccao_ativo_passivo	

				// totalizar_prospeccao_praca_ativo_passivo ******************
				if($row_relatorio['totalizar_prospeccao_praca_ativo_passivo'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					foreach ($totalizar_prospeccao_praca_ativo_passivo[$row_registro['praca']] as $item){
						//echo $item['titulo'];
						if($totalizar_prospeccao_praca_ativo_passivo[$row_registro['praca']][$contador_array]['titulo'] == $row_registro['ativo_passivo']){
							$totalizar_prospeccao_praca_ativo_passivo[$row_registro['praca']][$contador_array]['contador'] = $totalizar_prospeccao_praca_ativo_passivo[$row_registro['praca']][$contador_array]['contador'] + 1;
						}
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					foreach ($totalizar_prospeccao_praca_ativo_passivo[$row_registro['praca']] as $item){
						if($contador_array < count($totalizar_prospeccao_praca_ativo_passivo[$row_registro['praca']])-1){$virgula=" / ";}else{$virgula="";}
						if($item['titulo'] == 'p'){$item_titulo = 'Passivo';}
						if($item['titulo'] == 'a'){$item_titulo = 'Ativo';}
						$totalizar_prospeccao_praca_ativo_passivo_retorno .= $item_titulo.": ".$item['contador'].$virgula;
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_prospeccao_praca_ativo_passivo_retorno = "&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;Prospect: ".$totalizar_prospeccao_praca_ativo_passivo_retorno;
					
					if($row_relatorio['totalizar_prospeccao_praca_geral_ativo_passivo'] > 0){ 
						$totalizar_prospeccao_praca_geral_ativo_passivo_retorno = $totalizar_prospeccao_praca_ativo_passivo_retorno;
					}

				}
				// fim - totalizar_prospeccao_praca_ativo_passivo ************
				
				// totalizar_prospeccao_usuario_responsavel
				if(
				($row_relatorio['totalizar_prospeccao_usuario_responsavel'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_prospeccao_usuario_responsavel'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_prospeccao_usuario_responsavel'] == 3) // sem praça
				){ 
				
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_prospeccao_usuario_responsavel as $item){

						if($totalizar_prospeccao_usuario_responsavel[$contador_array]['IdUsuario'] == $row_registro['id_usuario_responsavel']){
							$totalizar_prospeccao_usuario_responsavel[$contador_array]['contador'] = $totalizar_prospeccao_usuario_responsavel[$contador_array]['contador'] + 1;
						}
						
						if($totalizar_prospeccao_usuario_responsavel[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;
						
					}
			
					// contador
					$totalizar_prospeccao_usuario_responsavel_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_prospeccao_usuario_responsavel as $item){
						$contador_array ++;
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_prospeccao_usuario_responsavel_retorno .= $item['nome'].": ".$item['contador'].$virgula;
						}
					}
					// fim - contador
					
					$totalizar_prospeccao_usuario_responsavel_retorno = "<div>Qtde/Responsável: ".$totalizar_prospeccao_usuario_responsavel_retorno."<div>";
						
				}
				// fim - totalizar_prospeccao_usuario_responsavel	
				
				// totalizar_prospeccao_praca_usuario_responsavel ******************
				if($row_relatorio['totalizar_prospeccao_praca_usuario_responsavel'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_prospeccao_praca_usuario_responsavel[$row_registro['praca']] as $item){
						
						if($totalizar_prospeccao_praca_usuario_responsavel[$row_registro['praca']][$contador_array]['IdUsuario'] == $row_registro['id_usuario_responsavel']){
							$totalizar_prospeccao_praca_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] = $totalizar_prospeccao_praca_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] + 1;
						}
						
						if($totalizar_prospeccao_praca_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_prospeccao_praca_usuario_responsavel[$row_registro['praca']] as $item){

						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_prospeccao_praca_usuario_responsavel_retorno .= $item['nome'].": ".$item['contador'].$virgula;
						}
						
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_prospeccao_praca_usuario_responsavel_retorno = "<div>Qtde/Responsável: ".$totalizar_prospeccao_praca_usuario_responsavel_retorno."</div>";
					
					if($row_relatorio['totalizar_prospeccao_praca_geral_usuario_responsavel'] > 0){ 
						$totalizar_prospeccao_praca_geral_usuario_responsavel_retorno = $totalizar_prospeccao_praca_usuario_responsavel_retorno;
					}

				}
				// fim - totalizar_prospeccao_praca_usuario_responsavel ************	
				
				
				
				

				// totalizar_venda_situacao
				if(
				($row_relatorio['totalizar_venda_situacao'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_venda_situacao'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_venda_situacao'] == 3) // sem praça
				){
				
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_venda_situacao as $item){
						
						if($totalizar_venda_situacao[$contador_array]['situacao'] == $row_registro['situacao']){
							$totalizar_venda_situacao[$contador_array]['contador'] = $totalizar_venda_situacao[$contador_array]['contador'] + 1;
						}
						
						if($totalizar_venda_situacao[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
	
						$contador_array ++;
						
					}
		
					// contador
					$totalizar_venda_situacao_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_venda_situacao as $item){
						$contador_array ++;
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_venda_situacao_retorno .= $item['situacao'].": ".$item['contador'].$virgula;
						}
					}
					// fim - contador
					
					$totalizar_venda_situacao_retorno = "<div>Situação: ".$totalizar_venda_situacao_retorno."</div>";
						
				}
				// fim - totalizar_venda_situacao
				
				// totalizar_venda_praca_situacao ******************
				if($row_relatorio['totalizar_venda_praca_situacao'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_venda_praca_situacao[$row_registro['praca']] as $item){
						if($totalizar_venda_praca_situacao[$row_registro['praca']][$contador_array]['situacao'] == $row_registro['situacao']){
							$totalizar_venda_praca_situacao[$row_registro['praca']][$contador_array]['contador'] = $totalizar_venda_praca_situacao[$row_registro['praca']][$contador_array]['contador'] + 1;
						}
						
						if($totalizar_venda_praca_situacao[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_venda_praca_situacao[$row_registro['praca']] as $item){
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_venda_praca_situacao_retorno .= $item['situacao'].": ".$item['contador'].$virgula;
						}
						
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_venda_praca_situacao_retorno = "<div>Situação: ".$totalizar_venda_praca_situacao_retorno."</div>";
					
					if($row_relatorio['totalizar_venda_praca_geral_situacao'] > 0){ 
						$totalizar_venda_praca_geral_situacao_retorno = $totalizar_venda_praca_situacao_retorno;
					}

				}
				// fim - totalizar_venda_praca_situacao ************	
								
				// totalizar_venda_usuario_responsavel
				if(
				($row_relatorio['totalizar_venda_usuario_responsavel'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_venda_usuario_responsavel'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_venda_usuario_responsavel'] == 3) // sem praça
				){ 
				
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_venda_usuario_responsavel as $item){

						if($totalizar_venda_usuario_responsavel[$contador_array]['IdUsuario'] == $row_registro['id_usuario_responsavel']){
							$totalizar_venda_usuario_responsavel[$contador_array]['contador'] = $totalizar_venda_usuario_responsavel[$contador_array]['contador'] + 1;
						}
						
						if($totalizar_venda_usuario_responsavel[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;
						
					}
			
					// contador
					$totalizar_venda_usuario_responsavel_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_venda_usuario_responsavel as $item){
						$contador_array ++;
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_venda_usuario_responsavel_retorno .= $item['nome'].": ".$item['contador'].$virgula;
						}
					}
					// fim - contador
					
					$totalizar_venda_usuario_responsavel_retorno = "<div>Qtde/Responsável: ".$totalizar_venda_usuario_responsavel_retorno."<div>";
						
				}
				// fim - totalizar_venda_usuario_responsavel	
				
				// totalizar_venda_praca_usuario_responsavel ******************
				if($row_relatorio['totalizar_venda_praca_usuario_responsavel'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_venda_praca_usuario_responsavel[$row_registro['praca']] as $item){
						
						if($totalizar_venda_praca_usuario_responsavel[$row_registro['praca']][$contador_array]['IdUsuario'] == $row_registro['id_usuario_responsavel']){
							$totalizar_venda_praca_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] = $totalizar_venda_praca_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] + 1;
						}
						
						if($totalizar_venda_praca_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_venda_praca_usuario_responsavel[$row_registro['praca']] as $item){

						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_venda_praca_usuario_responsavel_retorno .= $item['nome'].": ".$item['contador'].$virgula;
						}
						
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_venda_praca_usuario_responsavel_retorno = "<div>Qtde/Responsável: ".$totalizar_venda_praca_usuario_responsavel_retorno."</div>";
					
					if($row_relatorio['totalizar_venda_praca_geral_usuario_responsavel'] > 0){ 
						$totalizar_venda_praca_geral_usuario_responsavel_retorno = $totalizar_venda_praca_usuario_responsavel_retorno;
					}

				}
				// fim - totalizar_venda_praca_usuario_responsavel ************		
				
				// totalizar_venda_valor_venda
				if(
				($row_relatorio['totalizar_venda_valor_venda'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_venda_valor_venda'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_venda_valor_venda'] == 3) // sem praça
				){
				
					$totalizar_venda_valor_venda = $totalizar_venda_valor_venda + $row_registro['valor_venda'];

					$totalizar_venda_valor_venda_retorno = "&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;Valor Total (software): R$ ".number_format($totalizar_venda_valor_venda, 2, ',', '.');
					
				}
				// fim - totalizar_venda_valor_venda
            
				// totalizar_venda_praca_valor_venda ******************
				if($row_relatorio['totalizar_venda_praca_valor_venda'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					foreach ($totalizar_venda_praca_valor_venda[$row_registro['praca']] as $item){
						$totalizar_venda_praca_valor_venda[$row_registro['praca']]['valor_venda'] = $totalizar_venda_praca_valor_venda[$row_registro['praca']]['valor_venda'] + $row_registro['valor_venda'];
					}
					// fim - incrementa contador
					
					// retorno por praça
					foreach ($totalizar_venda_praca_valor_venda[$row_registro['praca']] as $item){
						$totalizar_venda_praca_valor_venda_retorno .= $item;
					}
					// fim - retorno por praça
					
					$totalizar_venda_praca_valor_venda_retorno = "&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;Valor Total (software): R$ ".number_format($totalizar_venda_praca_valor_venda_retorno, 2, ',', '.');
					
					if($row_relatorio['totalizar_venda_praca_geral_valor_venda'] > 0){ 
						$totalizar_venda_praca_geral_valor_venda_retorno = $totalizar_venda_praca_valor_venda_retorno;
					}

				}
				// fim - totalizar_venda_praca_valor_venda ************
				
				// totalizar_venda_valor_treinamento
				if(
				($row_relatorio['totalizar_venda_valor_treinamento'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_venda_valor_treinamento'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_venda_valor_treinamento'] == 3) // sem praça
				){
				
					$totalizar_venda_valor_treinamento = $totalizar_venda_valor_treinamento + $row_registro['valor_treinamento'];
					
					$totalizar_venda_valor_treinamento_retorno = "&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;Valor Total (treinamento): R$ ".number_format($totalizar_venda_valor_treinamento, 2, ',', '.');
					
				}
				// fim - totalizar_venda_valor_treinamento				

				// totalizar_venda_praca_valor_treinamento ******************
				if($row_relatorio['totalizar_venda_praca_valor_treinamento'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					foreach ($totalizar_venda_praca_valor_treinamento[$row_registro['praca']] as $item){
						$totalizar_venda_praca_valor_treinamento[$row_registro['praca']]['valor_treinamento'] = $totalizar_venda_praca_valor_treinamento[$row_registro['praca']]['valor_treinamento'] + $row_registro['valor_treinamento'];
					}
					// fim - incrementa contador
					
					// retorno por praça
					foreach ($totalizar_venda_praca_valor_treinamento[$row_registro['praca']] as $item){
						$totalizar_venda_praca_valor_treinamento_retorno .= $item;
					}
					// fim - retorno por praça
					
					$totalizar_venda_praca_valor_treinamento_retorno = "&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;Valor Total (treinamento): R$ ".number_format($totalizar_venda_praca_valor_treinamento_retorno, 2, ',', '.');
					
					if($row_relatorio['totalizar_venda_praca_geral_valor_treinamento'] > 0){ 
						$totalizar_venda_praca_geral_valor_treinamento_retorno = $totalizar_venda_praca_valor_treinamento_retorno;
					}

				}
				// fim - totalizar_venda_praca_valor_treinamento ******************
								
				// totalizar_venda_modulos
				if(
				($row_relatorio['totalizar_venda_modulos'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_venda_modulos'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_venda_modulos'] == 3) // sem praça
				){
				
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_venda_modulos as $item){

						// venda_modulos
						mysql_select_db($database_conexao, $conexao);
						$query_venda_modulos = sprintf('SELECT geral_tipo_modulo.descricao AS modulo FROM venda_modulos LEFT JOIN geral_tipo_modulo ON venda_modulos.id_modulo = geral_tipo_modulo.IdTipoModulo WHERE venda_modulos.id_venda = %s', GetSQLValueString($row_registro['id'], 'int'));
						$venda_modulos = mysql_query($query_venda_modulos, $conexao) or die(mysql_error());
						$row_venda_modulos = mysql_fetch_assoc($venda_modulos);
						$totalRows_venda_modulos = mysql_num_rows($venda_modulos);
						// fim - venda_modulos
					   
						do {
							
							if($totalizar_venda_modulos[$contador_array]['descricao'] == $row_venda_modulos['modulo']){
								$totalizar_venda_modulos[$contador_array]['contador'] = $totalizar_venda_modulos[$contador_array]['contador'] + 1;
							}

						} while ($row_venda_modulos = mysql_fetch_assoc($venda_modulos));
						
						if($totalizar_venda_modulos[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						mysql_free_result($venda_modulos);

						$contador_array ++;
						
					}
					
					// contador
					$totalizar_venda_modulos_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_venda_modulos as $item){
						$contador_array ++;
						if($item['contador'] > 0) {
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_venda_modulos_retorno .= $item['descricao'].": ".$item['contador'].$virgula;
						}
					}
					// fim - contador
					
					$totalizar_venda_modulos_retorno = "<div>Módulos: ".$totalizar_venda_modulos_retorno."<div>";
					
				}
				// fim - totalizar_venda_modulos
				
				// totalizar_venda_praca_modulos ******************
				if($row_relatorio['totalizar_venda_praca_modulos'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_venda_praca_modulos[$row_registro['praca']] as $item){

						// venda_modulos
						mysql_select_db($database_conexao, $conexao);
						$query_venda_modulos = sprintf('SELECT geral_tipo_modulo.descricao AS modulo FROM venda_modulos LEFT JOIN geral_tipo_modulo ON venda_modulos.id_modulo = geral_tipo_modulo.IdTipoModulo WHERE venda_modulos.id_venda = %s', GetSQLValueString($row_registro['id'], 'int'));
						$venda_modulos = mysql_query($query_venda_modulos, $conexao) or die(mysql_error());
						$row_venda_modulos = mysql_fetch_assoc($venda_modulos);
						$totalRows_venda_modulos = mysql_num_rows($venda_modulos);
						// fim - venda_modulos
					   
						do {
							
							if($totalizar_venda_praca_modulos[$row_registro['praca']][$contador_array]['descricao'] == $row_venda_modulos['modulo']){
								$totalizar_venda_praca_modulos[$row_registro['praca']][$contador_array]['contador'] = $totalizar_venda_praca_modulos[$row_registro['praca']][$contador_array]['contador'] + 1;
							}
							
						} while ($row_venda_modulos = mysql_fetch_assoc($venda_modulos));
						
						if($totalizar_venda_praca_modulos[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}

						mysql_free_result($venda_modulos);
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_venda_praca_modulos[$row_registro['praca']] as $item){
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_venda_praca_modulos_retorno .= $item['descricao'].": ".$item['contador'].$virgula;
						}
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_venda_praca_modulos_retorno = "<div>Módulos: ".$totalizar_venda_praca_modulos_retorno."</div>";
					
					if($row_relatorio['totalizar_venda_praca_geral_modulos'] > 0){ 
						$totalizar_venda_praca_geral_modulos_retorno = $totalizar_venda_praca_modulos_retorno;
					}

				}
				// fim - totalizar_venda_praca_modulos ************

				// totalizar_venda_tempo
				if(
				($row_relatorio['totalizar_venda_tempo'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_venda_tempo'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_venda_tempo'] == 3) // sem praça
				){
					
					if($row_registro['agenda_data_inicio'] <> "0000-00-00 00:00:00" and $row_registro['agenda_data'] <> "0000-00-00 00:00:00"){
						$totalizar_venda_tempo = $totalizar_venda_tempo + (strtotime($row_registro['agenda_data']) - strtotime($row_registro['agenda_data_inicio']))/60;
					}
					
					$totalizar_venda_tempo_retorno = "&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;Tempo: ".tempo_gasto_conversao($totalizar_venda_tempo);
					
				}
				// fim - totalizar_venda_tempo
				
				// totalizar_venda_praca_tempo ******************
				if($row_relatorio['totalizar_venda_praca_tempo'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					foreach ($totalizar_venda_praca_tempo[$row_registro['praca']] as $item){
						if($row_registro['agenda_data_inicio'] <> "0000-00-00 00:00:00" and $row_registro['agenda_data'] <> "0000-00-00 00:00:00"){
							$totalizar_venda_praca_tempo[$row_registro['praca']]['tempo'] = $totalizar_venda_praca_tempo[$row_registro['praca']]['tempo'] + (strtotime($row_registro['agenda_data']) - strtotime($row_registro['agenda_data_inicio']))/60;
						}
					}
					// fim - incrementa contador
					
					// retorno por praça
					foreach ($totalizar_venda_praca_tempo[$row_registro['praca']] as $item){
						$totalizar_venda_praca_tempo_retorno .= $item;
					}
					// fim - retorno por praça
					
					$totalizar_venda_praca_tempo_retorno = "&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;Tempo: ".tempo_gasto_conversao($totalizar_venda_praca_tempo_retorno)."";
					
					if($row_relatorio['totalizar_venda_praca_geral_tempo'] > 0){ 
						$totalizar_venda_praca_geral_tempo_retorno = $totalizar_venda_praca_tempo_retorno;
					}

				}
				// fim - totalizar_venda_praca_tempo ************
				
				// totalizar_venda_tempo_gasto
				if(
				($row_relatorio['totalizar_venda_tempo_gasto'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_venda_tempo_gasto'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_venda_tempo_gasto'] == 3) // sem praça
				){	
				
					$totalizar_venda_tempo_gasto = $totalizar_venda_tempo_gasto + $row_registro['tempo_gasto'];

					$totalizar_venda_tempo_gasto_retorno = "&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;Tempo: ".tempo_gasto_conversao($totalizar_venda_tempo_gasto);
					
				}
				// fim - totalizar_venda_tempo_gasto
				
				// totalizar_venda_praca_tempo_gasto ******************
				if($row_relatorio['totalizar_venda_praca_tempo_gasto'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					foreach ($totalizar_venda_praca_tempo_gasto[$row_registro['praca']] as $item){
						$totalizar_venda_praca_tempo_gasto[$row_registro['praca']]['tempo_gasto'] = $totalizar_venda_praca_tempo_gasto[$row_registro['praca']]['tempo_gasto'] + $row_registro['tempo_gasto'];
					}
					// fim - incrementa contador
					
					// retorno por praça
					foreach ($totalizar_venda_praca_tempo_gasto[$row_registro['praca']] as $item){
						$totalizar_venda_praca_tempo_gasto_retorno .= $item;
					}
					// fim - retorno por praça
					
					$totalizar_venda_praca_tempo_gasto_retorno = "&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;Tempo: ".tempo_gasto_conversao($totalizar_venda_praca_tempo_gasto_retorno);
					
					if($row_relatorio['totalizar_venda_praca_geral_tempo_gasto'] > 0){ 
						$totalizar_venda_praca_geral_tempo_gasto_retorno = $totalizar_venda_praca_tempo_gasto_retorno;
					}

				}
				// fim - totalizar_venda_praca_tempo_gasto ************
				
				// totalizar_venda_tempo_gasto_usuario_responsavel
				if(
				($row_relatorio['totalizar_venda_tempo_gasto_usuario_responsavel'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_venda_tempo_gasto_usuario_responsavel'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_venda_tempo_gasto_usuario_responsavel'] == 3) // sem praça
				){ 
				
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_venda_tempo_gasto_usuario_responsavel as $item){
						
						if($totalizar_venda_tempo_gasto_usuario_responsavel[$contador_array]['IdUsuario'] == $row_registro['id_usuario_responsavel']){
							
							$totalizar_venda_tempo_gasto_usuario_responsavel[$contador_array]['contador'] = 
							$totalizar_venda_tempo_gasto_usuario_responsavel[$contador_array]['contador'] + $row_registro['tempo_gasto'];
							
						}
						
						if($totalizar_venda_tempo_gasto_usuario_responsavel[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}

						$contador_array ++;
						
					}
					
					// contador
					$totalizar_venda_tempo_gasto_usuario_responsavel_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_venda_tempo_gasto_usuario_responsavel as $item){
						$contador_array ++;
						if($item['contador'] > 0) {
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_venda_tempo_gasto_usuario_responsavel_retorno .= $item['nome'].": ".tempo_gasto_conversao($item['contador']).$virgula;
						}
					}
					// fim - contador
					
					$totalizar_venda_tempo_gasto_usuario_responsavel_retorno = "<div>Tempo/Responsável: ".$totalizar_venda_tempo_gasto_usuario_responsavel_retorno."<div>";
					
				}
				// fim - totalizar_venda_tempo_gasto_usuario_responsavel
				
				// totalizar_venda_praca_tempo_gasto_usuario_responsavel ******************
				if($row_relatorio['totalizar_venda_praca_tempo_gasto_usuario_responsavel'] == 1 and $row_registro['praca'] != NULL){ 
				
					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_venda_praca_tempo_gasto_usuario_responsavel[$row_registro['praca']] as $item){

						if($totalizar_venda_praca_tempo_gasto_usuario_responsavel[$row_registro['praca']][$contador_array]['IdUsuario'] == $row_registro['id_usuario_responsavel']){

							$totalizar_venda_praca_tempo_gasto_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] = 
							$totalizar_venda_praca_tempo_gasto_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] + $row_registro['tempo_gasto'];
							
						}
						
						if($totalizar_venda_praca_tempo_gasto_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_venda_praca_tempo_gasto_usuario_responsavel[$row_registro['praca']] as $item){
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_venda_praca_tempo_gasto_usuario_responsavel_retorno .= $item['nome'].": ".tempo_gasto_conversao($item['contador']).$virgula;
						}
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_venda_praca_tempo_gasto_usuario_responsavel_retorno = "<div>Tempo/Responsável: ".$totalizar_venda_praca_tempo_gasto_usuario_responsavel_retorno."</div>";
					
					if($row_relatorio['totalizar_venda_praca_geral_tempo_gasto_usuario_responsavel'] > 0){ 
						$totalizar_venda_praca_geral_tempo_gasto_usuario_responsavel_retorno = $totalizar_venda_praca_tempo_gasto_usuario_responsavel_retorno;
					}

				}
				// fim - totalizar_venda_praca_tempo_gasto_usuario_responsavel ************
				
				// totalizar_venda_valor_venda_usuario_responsavel
				if(
				($row_relatorio['totalizar_venda_valor_venda_usuario_responsavel'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_venda_valor_venda_usuario_responsavel'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_venda_valor_venda_usuario_responsavel'] == 3) // sem praça
				){ 
				
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_venda_valor_venda_usuario_responsavel as $item){
						
						if($totalizar_venda_valor_venda_usuario_responsavel[$contador_array]['IdUsuario'] == $row_registro['id_usuario_responsavel']){
							
							$totalizar_venda_valor_venda_usuario_responsavel[$contador_array]['contador'] = $totalizar_venda_valor_venda_usuario_responsavel[$contador_array]['contador'] + $row_registro['valor_venda'];
							
						}
						
						if($totalizar_venda_valor_venda_usuario_responsavel[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}

						$contador_array ++;
						
					}
					
					// contador
					$totalizar_venda_valor_venda_usuario_responsavel_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_venda_valor_venda_usuario_responsavel as $item){
						$contador_array ++;
						if($item['contador'] > 0) {
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_venda_valor_venda_usuario_responsavel_retorno .= $item['nome'].": R$ ".number_format($item['contador'], 2, ',', '.').$virgula;
						}
					}
					// fim - contador
					
					$totalizar_venda_valor_venda_usuario_responsavel_retorno = "<div>Valor/Responsável: ".$totalizar_venda_valor_venda_usuario_responsavel_retorno."<div>";
					
				}
				// fim - totalizar_venda_valor_venda_usuario_responsavel
				
				// totalizar_venda_praca_valor_venda_usuario_responsavel ******************
				if($row_relatorio['totalizar_venda_praca_valor_venda_usuario_responsavel'] == 1 and $row_registro['praca'] != NULL){ 
				
					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_venda_praca_valor_venda_usuario_responsavel[$row_registro['praca']] as $item){

						if($totalizar_venda_praca_valor_venda_usuario_responsavel[$row_registro['praca']][$contador_array]['IdUsuario'] == $row_registro['id_usuario_responsavel']){
														
							$totalizar_venda_praca_valor_venda_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] = 
							$totalizar_venda_praca_valor_venda_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] + $row_registro['valor_venda'];
							
						}
						
						if($totalizar_venda_praca_valor_venda_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_venda_praca_valor_venda_usuario_responsavel[$row_registro['praca']] as $item){
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_venda_praca_valor_venda_usuario_responsavel_retorno .= $item['nome'].": R$ ".number_format($item['contador'], 2, ',', '.').$virgula;
						}
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_venda_praca_valor_venda_usuario_responsavel_retorno = "<div>Valor/Responsável: ".$totalizar_venda_praca_valor_venda_usuario_responsavel_retorno."</div>";
					
					if($row_relatorio['totalizar_venda_praca_geral_valor_venda_usuario_responsavel'] > 0){ 
						$totalizar_venda_praca_geral_valor_venda_usuario_responsavel_retorno = $totalizar_venda_praca_valor_venda_usuario_responsavel_retorno;
					}


				}
				// fim - totalizar_venda_praca_valor_venda_usuario_responsavel ************
				
				// totalizar_venda_valor_treinamento_responsavel
				if(
				($row_relatorio['totalizar_venda_valor_treinamento_responsavel'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_venda_valor_treinamento_responsavel'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_venda_valor_treinamento_responsavel'] == 3) // sem praça
				){ 
				
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_venda_valor_treinamento_responsavel as $item){
						
						if($totalizar_venda_valor_treinamento_responsavel[$contador_array]['IdUsuario'] == $row_registro['id_usuario_responsavel']){
							
							$totalizar_venda_valor_treinamento_responsavel[$contador_array]['contador'] = $totalizar_venda_valor_treinamento_responsavel[$contador_array]['contador'] + $row_registro['valor_treinamento'];
							
						}
						
						if($totalizar_venda_valor_treinamento_responsavel[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}

						$contador_array ++;
						
					}
					
					// contador
					$totalizar_venda_valor_treinamento_responsavel_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_venda_valor_treinamento_responsavel as $item){
						$contador_array ++;
						if($item['contador'] > 0) {
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_venda_valor_treinamento_responsavel_retorno .= $item['nome'].": R$ ".number_format($item['contador'], 2, ',', '.').$virgula;
						}
					}
					// fim - contador
					
					$totalizar_venda_valor_treinamento_responsavel_retorno = "<div>Valor/Responsável: ".$totalizar_venda_valor_treinamento_responsavel_retorno."<div>";
					
				}
				// fim - totalizar_venda_valor_treinamento_responsavel
				
				// totalizar_venda_praca_valor_treinamento_responsavel ******************
				if($row_relatorio['totalizar_venda_praca_valor_treinamento_responsavel'] == 1 and $row_registro['praca'] != NULL){ 
				
					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_venda_praca_valor_treinamento_responsavel[$row_registro['praca']] as $item){

						if($totalizar_venda_praca_valor_treinamento_responsavel[$row_registro['praca']][$contador_array]['IdUsuario'] == $row_registro['id_usuario_responsavel']){
														
							$totalizar_venda_praca_valor_treinamento_responsavel[$row_registro['praca']][$contador_array]['contador'] = 
							$totalizar_venda_praca_valor_treinamento_responsavel[$row_registro['praca']][$contador_array]['contador'] + $row_registro['valor_treinamento'];
						}
						
						if($totalizar_venda_praca_valor_treinamento_responsavel[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_venda_praca_valor_treinamento_responsavel[$row_registro['praca']] as $item){
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_venda_praca_valor_treinamento_responsavel_retorno .= $item['nome'].": R$ ".number_format($item['contador'], 2, ',', '.').$virgula;
						}
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_venda_praca_valor_treinamento_responsavel_retorno = "<div>Valor/Responsável: ".$totalizar_venda_praca_valor_treinamento_responsavel_retorno."</div>";
					
					if($row_relatorio['totalizar_venda_praca_geral_valor_treinamento_responsavel'] > 0){ 
						$totalizar_venda_praca_geral_valor_treinamento_responsavel_retorno = $totalizar_venda_praca_valor_treinamento_responsavel_retorno;
					}



				}
				// fim - totalizar_venda_praca_valor_treinamento_responsavel ************
				
				// totalizar_venda_tempo_usuario_responsavel
				if(
				($row_relatorio['totalizar_venda_tempo_usuario_responsavel'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_venda_tempo_usuario_responsavel'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_venda_tempo_usuario_responsavel'] == 3) // sem praça
				){
				
					$contador_array = 0;
					$contador_virgula = 0;
					foreach($totalizar_venda_tempo_usuario_responsavel as $item){
						
						if($totalizar_venda_tempo_usuario_responsavel[$contador_array]['IdUsuario'] == $row_registro['id_usuario_responsavel']){
							
							$totalizar_venda_tempo_usuario_responsavel[$contador_array]['contador'] = 
							$totalizar_venda_tempo_usuario_responsavel[$contador_array]['contador'] + (strtotime($row_registro['agenda_data']) - strtotime($row_registro['agenda_data_inicio']))/60;;
							
						}
						
						if($totalizar_venda_tempo_usuario_responsavel[$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}

						$contador_array ++;
						
					}
					
					// contador
					$totalizar_venda_tempo_usuario_responsavel_retorno = NULL;
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach($totalizar_venda_tempo_usuario_responsavel as $item){
						$contador_array ++;
						if($item['contador'] > 0) {
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_venda_tempo_usuario_responsavel_retorno .= $item['nome'].": ".tempo_gasto_conversao($item['contador']).$virgula;
						}
					}
					// fim - contador
					
					$totalizar_venda_tempo_usuario_responsavel_retorno = "<div>Tempo/Responsável: ".$totalizar_venda_tempo_usuario_responsavel_retorno."<div>";
					
				}
				// fim - totalizar_venda_tempo_usuario_responsavel
				
				// totalizar_venda_praca_tempo_usuario_responsavel ******************
				if($row_relatorio['totalizar_venda_praca_tempo_usuario_responsavel'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					$contador_virgula = 0;
					foreach ($totalizar_venda_praca_tempo_usuario_responsavel[$row_registro['praca']] as $item){

						if($totalizar_venda_praca_tempo_usuario_responsavel[$row_registro['praca']][$contador_array]['IdUsuario'] == $row_registro['id_usuario_responsavel']){
														
							$totalizar_venda_praca_tempo_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] = 
							$totalizar_venda_praca_tempo_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] + (strtotime($row_registro['agenda_data']) - strtotime($row_registro['agenda_data_inicio']))/60;
							
						}
						
						if($totalizar_venda_praca_tempo_usuario_responsavel[$row_registro['praca']][$contador_array]['contador'] > 0){
							$contador_virgula ++;
						}
						
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					$contador_virgula_atual = 0;
					foreach ($totalizar_venda_praca_tempo_usuario_responsavel[$row_registro['praca']] as $item){
						if($item['contador'] > 0){
							$contador_virgula_atual ++;
							if($contador_virgula_atual < $contador_virgula){$virgula=" / ";}else{$virgula="";}
							$totalizar_venda_praca_tempo_usuario_responsavel_retorno .= $item['nome'].": ".tempo_gasto_conversao($item['contador']).$virgula;
						}
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_venda_praca_tempo_usuario_responsavel_retorno = "<div>Tempo/Responsável: ".$totalizar_venda_praca_tempo_usuario_responsavel_retorno."</div>";
					
					if($row_relatorio['totalizar_venda_praca_geral_tempo_usuario_responsavel'] > 0){ 
						$totalizar_venda_praca_geral_tempo_usuario_responsavel_retorno = $totalizar_venda_praca_tempo_usuario_responsavel_retorno;
					}

				}
				// fim - totalizar_venda_praca_tempo_usuario_responsavel ************
				
				// totalizar_venda_tipo_cliente
				if(
				($row_relatorio['totalizar_venda_tipo_cliente'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_venda_tipo_cliente'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_venda_tipo_cliente'] == 3) // sem praça
				){
				
					$contador_array = 0;
					foreach($totalizar_venda_tipo_cliente as $item){
						
						if($totalizar_venda_tipo_cliente[$contador_array]['titulo'] == $row_registro['tipo_cliente']){
							$totalizar_venda_tipo_cliente[$contador_array]['contador'] = $totalizar_venda_tipo_cliente[$contador_array]['contador'] + 1;
						}
	
						$contador_array ++;
						
					}
					
					// contador
					$totalizar_venda_tipo_cliente_retorno = NULL;
					$contador_array = 0;
					foreach($totalizar_venda_tipo_cliente as $item){
						$contador_array ++;
						if($contador_array <> count($totalizar_venda_tipo_cliente)){$virgula=" / ";}else{$virgula="";} // se não é a última, então insere OR
						$item_titulo = NULL;
						if($item['titulo'] == 'n'){$item_titulo = 'Novo';}
						if($item['titulo'] == 'a'){$item_titulo = 'Antigo';}
						$totalizar_venda_tipo_cliente_retorno .= $item_titulo.": ".$item['contador'].$virgula;
					}
					// fim - contador
					
					$totalizar_venda_tipo_cliente_retorno = "&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;Tipo de cliente: ".$totalizar_venda_tipo_cliente_retorno;
					
				}
				// fim - totalizar_venda_tipo_cliente	

				// totalizar_venda_praca_tipo_cliente ******************
				if($row_relatorio['totalizar_venda_praca_tipo_cliente'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					$contador_array = 0;
					foreach ($totalizar_venda_praca_tipo_cliente[$row_registro['praca']] as $item){
						//echo $item['titulo'];
						if($totalizar_venda_praca_tipo_cliente[$row_registro['praca']][$contador_array]['titulo'] == $row_registro['tipo_cliente']){
							$totalizar_venda_praca_tipo_cliente[$row_registro['praca']][$contador_array]['contador'] = $totalizar_venda_praca_tipo_cliente[$row_registro['praca']][$contador_array]['contador'] + 1;
						}
						$contador_array ++;	
					}
					// fim - incrementa contador
					
					// retorno por praça
					$contador_array = 0;
					foreach ($totalizar_venda_praca_tipo_cliente[$row_registro['praca']] as $item){
						if($contador_array < count($totalizar_venda_praca_tipo_cliente[$row_registro['praca']])-1){$virgula=" / ";}else{$virgula="";}
						if($item['titulo'] == 'n'){$item_titulo = 'Novo';}
						if($item['titulo'] == 'a'){$item_titulo = 'Antigo';}
						$totalizar_venda_praca_tipo_cliente_retorno .= $item_titulo.": ".$item['contador'].$virgula;
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_venda_praca_tipo_cliente_retorno = "&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;Tipo de cliente: ".$totalizar_venda_praca_tipo_cliente_retorno;
					
					if($row_relatorio['totalizar_venda_praca_geral_tipo_cliente'] > 0){ 
						$totalizar_venda_praca_geral_tipo_cliente_retorno = $totalizar_venda_praca_tipo_cliente_retorno;
					}

				}
				// fim - totalizar_venda_praca_tipo_cliente ************
				
				// totalizar_venda_dilacao_prazo
				if(
				($row_relatorio['totalizar_venda_dilacao_prazo'] == 1) or // com e sem praça
				($filtro_geral_praca_atual != NULL and $row_relatorio['totalizar_venda_dilacao_prazo'] == 2) or // com praça
				($filtro_geral_praca_atual == NULL and $row_relatorio['totalizar_venda_dilacao_prazo'] == 3) // sem praça
				){
	
					if($row_registro['dilacao_prazo'] == 0){
						$totalizar_venda_dilacao_prazo[0]['contador'] = $totalizar_venda_dilacao_prazo[0]['contador'] + 1;
					} else if($row_registro['dilacao_prazo'] > 0){
						$totalizar_venda_dilacao_prazo[1]['contador'] = $totalizar_venda_dilacao_prazo[1]['contador'] + 1;
					}

		
					// contador
					$totalizar_venda_dilacao_prazo_retorno = NULL;
					$contador_array = 0;
					foreach($totalizar_venda_dilacao_prazo as $item){
						$contador_array ++;
						if($contador_array <> count($totalizar_venda_dilacao_prazo)){$virgula=", ";}else{$virgula="";} // se não é a última, então insere OR
						$totalizar_venda_dilacao_prazo_retorno .= $item['titulo'].": ".$item['contador'].$virgula;
					}
					// fim - contador
					
					$totalizar_venda_dilacao_prazo_retorno = "&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;Dilação de Prazo: ".$totalizar_venda_dilacao_prazo_retorno;
						
				}
				// fim - totalizar_venda_dilacao_prazo
				
				// totalizar_venda_praca_dilacao_prazo ******************
				if($row_relatorio['totalizar_venda_praca_dilacao_prazo'] == 1 and $row_registro['praca'] != NULL){ 

					// incrementa contador
					if($row_registro['dilacao_prazo'] == 0){
						$totalizar_venda_praca_dilacao_prazo[$row_registro['praca']][0]['contador'] = $totalizar_venda_praca_dilacao_prazo[$row_registro['praca']][0]['contador'] + 1;
					} else if($row_registro['dilacao_prazo'] > 0){
						$totalizar_venda_praca_dilacao_prazo[$row_registro['praca']][1]['contador'] = $totalizar_venda_praca_dilacao_prazo[$row_registro['praca']][1]['contador'] + 1;
					}
					// fim - incrementa contador

					// retorno por praça
					$contador_array = 0;
					foreach ($totalizar_venda_praca_dilacao_prazo[$row_registro['praca']] as $item){
						if($contador_array < count($totalizar_venda_praca_dilacao_prazo[$row_registro['praca']])-1){$virgula=", ";}else{$virgula="";}
						$totalizar_venda_praca_dilacao_prazo_retorno .= $item['titulo'].": ".$item['contador'].$virgula;
						$contador_array ++;	
					}
					// fim - retorno por praça
					
					$totalizar_venda_praca_dilacao_prazo_retorno = "&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;Dilação de Prazo: ".$totalizar_venda_praca_dilacao_prazo_retorno;
					
					if($row_relatorio['totalizar_venda_praca_geral_dilacao_prazo'] > 0){ 
						$totalizar_venda_praca_geral_dilacao_prazo_retorno = $totalizar_venda_praca_dilacao_prazo_retorno;
					}

				}
				// fim - totalizar_venda_praca_dilacao_prazo ************
?>